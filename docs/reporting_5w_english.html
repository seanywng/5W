<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sean Ng">
<meta name="dcterms.date" content="2024-05-07">

<title>Reporting on Education 5W data from Venezuela</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="reporting_5w_english_files/libs/clipboard/clipboard.min.js"></script>
<script src="reporting_5w_english_files/libs/quarto-html/quarto.js"></script>
<script src="reporting_5w_english_files/libs/quarto-html/popper.min.js"></script>
<script src="reporting_5w_english_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="reporting_5w_english_files/libs/quarto-html/anchor.min.js"></script>
<link href="reporting_5w_english_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="reporting_5w_english_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="reporting_5w_english_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="reporting_5w_english_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="reporting_5w_english_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="reporting_5w_english_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="reporting_5w_english_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

<link href="reporting_5w_english_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="reporting_5w_english_files/libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="reporting_5w_english_files/libs/typedarray-0.1/typedarray.min.js"></script>

<script src="reporting_5w_english_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="reporting_5w_english_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="reporting_5w_english_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

<link href="reporting_5w_english_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/datatables-binding-0.33/datatables.js"></script>

<link href="reporting_5w_english_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="reporting_5w_english_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="reporting_5w_english_files/libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>

<link href="reporting_5w_english_files/libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">

<script src="reporting_5w_english_files/libs/selectize-0.12.0/selectize.min.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#b.-reporting-on-the-5w-data" id="toc-b.-reporting-on-the-5w-data" class="nav-link active" data-scroll-target="#b.-reporting-on-the-5w-data">B. Reporting on the 5W data</a>
  <ul>
  <li><a href="#summary-of-beneficiaries-by-activity-with-sex-ratio" id="toc-summary-of-beneficiaries-by-activity-with-sex-ratio" class="nav-link" data-scroll-target="#summary-of-beneficiaries-by-activity-with-sex-ratio">1. Summary of beneficiaries by activity, with sex ratio</a></li>
  <li><a href="#beneficiaries-by-age-group" id="toc-beneficiaries-by-age-group" class="nav-link" data-scroll-target="#beneficiaries-by-age-group">2. Beneficiaries by age group</a>
  <ul class="collapse">
  <li><a href="#a.-beneficiaries-by-age-compared-to-2017-enrollment" id="toc-a.-beneficiaries-by-age-compared-to-2017-enrollment" class="nav-link" data-scroll-target="#a.-beneficiaries-by-age-compared-to-2017-enrollment">2a. Beneficiaries by age compared to 2017 Enrollment</a></li>
  </ul></li>
  <li><a href="#changes-since-previous-month" id="toc-changes-since-previous-month" class="nav-link" data-scroll-target="#changes-since-previous-month">3. Changes since previous month</a>
  <ul class="collapse">
  <li><a href="#a.-progress-by-activity-by-month" id="toc-a.-progress-by-activity-by-month" class="nav-link" data-scroll-target="#a.-progress-by-activity-by-month">3a. Progress by activity by month</a></li>
  </ul></li>
  <li><a href="#summaries-by-geography" id="toc-summaries-by-geography" class="nav-link" data-scroll-target="#summaries-by-geography">4. Summaries by geography</a>
  <ul class="collapse">
  <li><a href="#a.-beneficiaries-by-state" id="toc-a.-beneficiaries-by-state" class="nav-link" data-scroll-target="#a.-beneficiaries-by-state">4a. Beneficiaries by state</a></li>
  <li><a href="#b.-number-of-schools-by-state" id="toc-b.-number-of-schools-by-state" class="nav-link" data-scroll-target="#b.-number-of-schools-by-state">4b. Number of schools by state</a></li>
  <li><a href="#c.-scatterplot-of-municipalities" id="toc-c.-scatterplot-of-municipalities" class="nav-link" data-scroll-target="#c.-scatterplot-of-municipalities">4c. Scatterplot of municipalities</a></li>
  <li><a href="#d.-top-10-municipalities-by-reach-and-coverage" id="toc-d.-top-10-municipalities-by-reach-and-coverage" class="nav-link" data-scroll-target="#d.-top-10-municipalities-by-reach-and-coverage">4d. Top 10 municipalities by reach and coverage</a></li>
  </ul></li>
  <li><a href="#partners" id="toc-partners" class="nav-link" data-scroll-target="#partners">5. Partners</a>
  <ul class="collapse">
  <li><a href="#a.-summary-by-partner" id="toc-a.-summary-by-partner" class="nav-link" data-scroll-target="#a.-summary-by-partner">5a. Summary by partner</a></li>
  <li><a href="#b.-number-of-activity-types-implemented-by-each-partner" id="toc-b.-number-of-activity-types-implemented-by-each-partner" class="nav-link" data-scroll-target="#b.-number-of-activity-types-implemented-by-each-partner">5b. Number of activity types implemented by each partner</a></li>
  <li><a href="#c.-partners-progress-over-time" id="toc-c.-partners-progress-over-time" class="nav-link" data-scroll-target="#c.-partners-progress-over-time">5c. Partners’ progress over time</a></li>
  <li><a href="#d.-summary-table-of-partners-achievements" id="toc-d.-summary-table-of-partners-achievements" class="nav-link" data-scroll-target="#d.-summary-table-of-partners-achievements">5d. Summary table of partners’ achievements</a></li>
  </ul></li>
  <li><a href="#maps-and-reference-table" id="toc-maps-and-reference-table" class="nav-link" data-scroll-target="#maps-and-reference-table">6. Maps and reference table</a>
  <ul class="collapse">
  <li><a href="#a.-maps-at-municipal-level" id="toc-a.-maps-at-municipal-level" class="nav-link" data-scroll-target="#a.-maps-at-municipal-level">6a. Maps at municipal level</a></li>
  <li><a href="#b.-reference-table-municipal-level" id="toc-b.-reference-table-municipal-level" class="nav-link" data-scroll-target="#b.-reference-table-municipal-level">6b. Reference table – municipal level</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Reporting on Education 5W data from Venezuela</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Originally published 12 January 2024</p>
</div>



<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sean Ng </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 7, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="b.-reporting-on-the-5w-data" class="level1">
<h1>B. Reporting on the 5W data</h1>
<p><br></p>
<p>This is the second part of this primer on cleaning and reporting 5W data. For the first part on data cleaning, please see <a href="">here</a>.</p>
<p>This is an entirely automated report – all charts and tables, as well as all figures within the report have been generated from the clean data (the output of the <a href="">cleaning script</a>), with no manual input. The output of this report will be an HTML file which we will publish online. If desired, a PDF of this report may also be generated.</p>
<p>This set of 5W data pertains to the Education Cluster in Venezuela and has had all partner information (except that of UNICEF) removed. This is a generic 5W report, intended for external audiences and management. An example of a more thorough analysis of coverage and gaps can be found <a href="https://seanywng.github.io/coverage_gaps_venezuela/">here</a>.</p>
<p>Code will be displayed in this version, as it is intended as an example. We would typically hide all code before sharing the report with management.</p>
<p>Let us start with reading in the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in census reference dataset</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>cen_ref <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"census_data_20191122.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"data"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(estado, pcode1, municipio, pcode2, parroquia, pcode3, field_office,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>         poblacion_total_2011, x_2019_poblacion_parroquial_total,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>         ham_2019_ambitos_ge, ham_2019_xx_pobreza_env_por_parroquia, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>         ham_2019_xx_poblacion_pobre_por_parroquia,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>         poblacion_infantil_menor_de_12_anos, poblacion_adolescentes_de_12_a_17_anos,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>         poblacion_de_18_anos_y_mas, </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>         poblacion_urbana_percent, area_km2, densidad_poblacional_ppl_km2,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>         matricula_2017_educacion_inicial, matricula_2017_educacion_primaria, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>         matricula_2017_educacion_media)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading in the activity beneficiaries dataframe</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># This or most current file</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>act_ben <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"activity_ben.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">implementing_partner =</span> </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_replace_all</span>(implementing_partner,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"UNICEF - Fondo de las Naciones Unidas para la Infancia"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"UNICEF"</span>), </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">activity_short =</span> <span class="fu">recode</span>(activity_code, </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.01 =</span> <span class="st">"1.01_school_reintegration"</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.02 =</span> <span class="st">"1.02_leveling_capacitation"</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.03 =</span> <span class="st">"1.03_school_kits"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.04 =</span> <span class="st">"1.04_school_feeding"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.05 =</span> <span class="st">"1.05_promotion_key_messages"</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.06 =</span> <span class="st">"1.06_psychosocial_support"</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA1.07 =</span> <span class="st">"1.07_recreational_activities"</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA2.08 =</span> <span class="st">"2.08_distance education"</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA2.09 =</span> <span class="st">"2.09_teacher_training"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">CA2.10 =</span> <span class="st">"2.10_teacher_scholarships"</span>))</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading in the unique benficiaries dataframe</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>u_ben <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"unique_ben.csv"</span>)</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember that all radio messaging activities have already been filtered out</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br><br><br></p>
<section id="summary-of-beneficiaries-by-activity-with-sex-ratio" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-beneficiaries-by-activity-with-sex-ratio">1. Summary of beneficiaries by activity, with sex ratio</h2>
<p>This is an example of a summary table, by activity. We have also included the sex ratio, from which we note that all activities reach more women than men, except for 1.01 Reintegration into schools.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>act_ben <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">beneficiary_sex =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"^m"</span>) <span class="sc">~</span> <span class="st">"male"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"^f"</span>) <span class="sc">~</span> <span class="st">"female"</span>, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"not_specified"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(activity_short) <span class="sc">|&gt;</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_reached =</span> <span class="fu">sum</span>(beneficiaries, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">male =</span> <span class="fu">sum</span>(beneficiaries[beneficiary_sex <span class="sc">==</span> <span class="st">"male"</span>]), </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">female =</span> <span class="fu">sum</span>(beneficiaries[beneficiary_sex <span class="sc">==</span> <span class="st">"female"</span>]), </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">sex_ratio =</span> <span class="fu">round</span>(male<span class="sc">/</span>female, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">%_total</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(total_reached <span class="sc">/</span> <span class="fu">sum</span>(total_reached) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"total_reached"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>), <span class="sc">~</span> <span class="fu">round</span>(., <span class="at">digits =</span> <span class="dv">0</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"total_reached"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>), <span class="sc">~</span> <span class="fu">format</span>(., <span class="at">big.mark =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">`</span><span class="at">%_total</span><span class="st">`</span>, <span class="at">.after =</span> total_reached) <span class="sc">|&gt;</span>  </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_reached)) <span class="sc">|&gt;</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">activity =</span> activity_short) <span class="sc">|&gt;</span> </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(str_to_title) <span class="sc">|&gt;</span> </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Beneficiaries by activity"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">font_size =</span> <span class="dv">12</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<caption>Beneficiaries by activity</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Activity</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Total_reached</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%_Total</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Male</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Female</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sex_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1.03_school_kits</td>
<td style="text-align: left;">471,568</td>
<td style="text-align: right;">44.02</td>
<td style="text-align: left;">232,197</td>
<td style="text-align: left;">239,372</td>
<td style="text-align: right;">0.97</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.04_school_feeding</td>
<td style="text-align: left;">156,472</td>
<td style="text-align: right;">14.61</td>
<td style="text-align: left;">72,035</td>
<td style="text-align: left;">84,437</td>
<td style="text-align: right;">0.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.05_promotion_key_messages</td>
<td style="text-align: left;">144,775</td>
<td style="text-align: right;">13.52</td>
<td style="text-align: left;">64,029</td>
<td style="text-align: left;">80,502</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.08_distance education</td>
<td style="text-align: left;">132,258</td>
<td style="text-align: right;">12.35</td>
<td style="text-align: left;">64,240</td>
<td style="text-align: left;">68,018</td>
<td style="text-align: right;">0.94</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.06_psychosocial_support</td>
<td style="text-align: left;">120,887</td>
<td style="text-align: right;">11.29</td>
<td style="text-align: left;">54,859</td>
<td style="text-align: left;">66,028</td>
<td style="text-align: right;">0.83</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.09_teacher_training</td>
<td style="text-align: left;">17,238</td>
<td style="text-align: right;">1.61</td>
<td style="text-align: left;">3,470</td>
<td style="text-align: left;">13,224</td>
<td style="text-align: right;">0.26</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.02_leveling_capacitation</td>
<td style="text-align: left;">14,016</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: left;">6,336</td>
<td style="text-align: left;">7,680</td>
<td style="text-align: right;">0.82</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.10_teacher_scholarships</td>
<td style="text-align: left;">5,744</td>
<td style="text-align: right;">0.54</td>
<td style="text-align: left;">1,572</td>
<td style="text-align: left;">4,172</td>
<td style="text-align: right;">0.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.07_recreational_activities</td>
<td style="text-align: left;">4,317</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: left;">1,998</td>
<td style="text-align: left;">2,319</td>
<td style="text-align: right;">0.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.01_school_reintegration</td>
<td style="text-align: left;">3,869</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: left;">2,114</td>
<td style="text-align: left;">1,755</td>
<td style="text-align: right;">1.20</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p><br></p>
<p>We want to include figures in our text, but since this is meant to be an automated report, we will make use of inline code to do this:</p>
<p>A total of <code>format(round(sum(u_ben$beneficiaries)), big.mark = ",")</code> individuals have been reached to date.</p>
<p>This will evaluate as:</p>
<blockquote class="blockquote">
<p>A total of <strong>728,408</strong> individuals have been reached to date.</p>
</blockquote>
<p>In the same vein, we will continue to use inline code to generate all figures that appear in the text of the report. This means that we will not need to rewrite anything or manually correct any figures even if we get new data. All we would need to do is re-run the report and the correct figures will be updated. Download the QMD from the link at the top-right corner to see all the other instances of inline code.</p>
<p>Continuing the report:</p>
<blockquote class="blockquote">
<p>In terms of frequencies (inclusive of double counting), <strong>1,071,144</strong> have been reached.</p>
</blockquote>
<p><br><br><br></p>
</section>
<section id="beneficiaries-by-age-group" class="level2">
<h2 class="anchored" data-anchor-id="beneficiaries-by-age-group">2. Beneficiaries by age group</h2>
<p>The figures in the plot below are unique beneficiaries or individuals.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to reorder the plot</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>ordvec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0-3"</span>, <span class="st">"3-6"</span>, <span class="st">"7-12"</span>, <span class="st">"12-17"</span>, <span class="st">"18-19"</span>, <span class="st">"19_and_older"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># df for the plot</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>age_u_ben <span class="ot">&lt;-</span> u_ben <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_ben =</span> <span class="fu">case_when</span>(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation,<span class="st">"0_3$"</span>) <span class="sc">~</span> <span class="st">"0-3"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation,<span class="st">"3_6$"</span>) <span class="sc">~</span> <span class="st">"3-6"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"7_12$"</span>) <span class="sc">~</span> <span class="st">"7-12"</span>, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"12_17$"</span>) <span class="sc">~</span> <span class="st">"12-17"</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"18_19$"</span>) <span class="sc">~</span> <span class="st">"18-19"</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"19_and_older$"</span>) <span class="sc">~</span> <span class="st">"19_and_older"</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"not_specified"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age_ben <span class="sc">!=</span> <span class="st">"not_specified"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_ben) <span class="sc">|&gt;</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">sum</span>(beneficiaries))</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>age_u_ben <span class="sc">|&gt;</span> </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_relevel</span>(age_ben, ordvec), <span class="at">y =</span> beneficiaries)) <span class="sc">+</span> </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"cornflowerblue"</span>) <span class="sc">+</span> </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(beneficiaries)), </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">25</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">scale =</span> <span class="fl">1e-3</span>, </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">sep =</span> <span class="st">""</span>)) <span class="sc">+</span> </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age groups"</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Unique beneficiaries by age group"</span>) <span class="sc">+</span> </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="reporting_5w_english_files/figure-html/PLOT-beneficiaries-by-age-1.png" class="img-fluid figure-img" width="912"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>We observe that the largest group of Education Cluster beneficiaries are of primary-school age, followed by those of secondary-school age.</p>
<p><br><br></p>
<section id="a.-beneficiaries-by-age-compared-to-2017-enrollment" class="level3">
<h3 class="anchored" data-anchor-id="a.-beneficiaries-by-age-compared-to-2017-enrollment">2a. Beneficiaries by age compared to 2017 Enrollment</h3>
<p>Let us next compare beneficiaries reached with the 2017 matriculation (the most recent figures available at the time). We are comparing beneficiaries reached to the total national matriculation because the Venezuela Refugee and Economic Crisis was national in scale. In other responses, we might want to limit this to the number of students enrolled in affected areas.</p>
<p>This code chunk below generates several reference figures which we will make use of within inline code inside the text as well as in a summary table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reference df for the table and text below, restructuring enrollment data from cen_ref</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>matric_ben <span class="ot">&lt;-</span> cen_ref <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(matricula_2017_educacion_inicial, matricula_2017_educacion_primaria, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>         matricula_2017_educacion_media) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"3-6"</span> <span class="ot">=</span> matricula_2017_educacion_inicial,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"7-12"</span> <span class="ot">=</span> matricula_2017_educacion_primaria,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">"12-17"</span> <span class="ot">=</span> matricula_2017_educacion_media) <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"age_ben"</span>, <span class="at">values_to =</span> <span class="st">"matricula2017"</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_ben) <span class="sc">%&gt;%</span> </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">enrolment2017 =</span> <span class="fu">sum</span>(matricula2017)) <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(age_u_ben, <span class="at">by =</span> <span class="st">"age_ben"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent_reached =</span> beneficiaries<span class="sc">/</span>enrolment2017 <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(beneficiaries, <span class="at">.after =</span> age_ben) <span class="sc">%&gt;%</span> </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Age group</span><span class="st">`</span> <span class="ot">=</span> age_ben) <span class="sc">%&gt;%</span> </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>)  <span class="co"># rearranging rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>With reference to the 2017 Matricula dataset, we can see that the Education cluster has reached an overall average of <strong>9%</strong> of schoolgoing children aged 3-17 nationwide. Children aged 3-17 consitute <strong>88%</strong> of all Education Cluster beneficiaries.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>matric_ben <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Some formatting for the table below</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"beneficiaries"</span>, <span class="st">"enrolment2017"</span>), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> <span class="fu">format</span>(<span class="fu">round</span>(., <span class="at">digits =</span> <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent_reached =</span> <span class="fu">round</span>(percent_reached, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(str_to_title) <span class="sc">|&gt;</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Comparison between beneficiaries reached and 2017 matriculation"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">font_size =</span> <span class="dv">12</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<caption>Comparison between beneficiaries reached and 2017 matriculation</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Age Group</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Beneficiaries</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Enrolment2017</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Percent_reached</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">3-6</td>
<td style="text-align: left;">121,169</td>
<td style="text-align: left;">1,438,475</td>
<td style="text-align: right;">8.42</td>
</tr>
<tr class="even">
<td style="text-align: left;">7-12</td>
<td style="text-align: left;">352,808</td>
<td style="text-align: left;">3,252,505</td>
<td style="text-align: right;">10.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12-17</td>
<td style="text-align: left;">169,771</td>
<td style="text-align: left;">2,205,724</td>
<td style="text-align: right;">7.70</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p><br><br></p>
</section>
</section>
<section id="changes-since-previous-month" class="level2">
<h2 class="anchored" data-anchor-id="changes-since-previous-month">3. Changes since previous month</h2>
<p>This section will pull out changes since the previous month – these figures are especially important for UNICEF-style reporting. As above, we have generated some reference datasets and use inline code to avoid manual data entry.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating reference dfs for the text and plot below</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>cum_u_ben <span class="ot">&lt;-</span> u_ben <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_reported) <span class="sc">|&gt;</span>  </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_ben =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">|&gt;</span>  </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative =</span> <span class="fu">cumsum</span>(sum_ben))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>cum_act_ben <span class="ot">&lt;-</span> act_ben <span class="sc">|&gt;</span>  </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_ben =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">|&gt;</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative =</span> <span class="fu">cumsum</span>(sum_ben))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>The number of individuals reached has increased by <strong>175,121</strong> in the past month, reaching a total of <strong>728,408</strong>. The number of beneficiary frequencies reached has increased by <strong>222,618</strong> in the same period, reaching a total of <strong>1,071,144</strong>.</p>
</blockquote>
<p>We will also make a line plot showing progress over time:</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>u_ben <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_reported =</span> <span class="fu">as.Date</span>(month_reported)) <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_ben =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">|&gt;</span>  </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative =</span> <span class="fu">cumsum</span>(sum_ben)) <span class="sc">|&gt;</span>  </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> month_reported, <span class="at">y =</span> cumulative)) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(cumulative)), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.25</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">"%b"</span>, <span class="at">date_breaks =</span> <span class="st">"1 month"</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, <span class="at">scale =</span> <span class="fl">1e-3</span>, <span class="at">sep =</span> <span class="st">""</span>),</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">950000</span>, <span class="at">by =</span> <span class="dv">200000</span>)) <span class="sc">+</span> <span class="co"># what is this breaks doing?</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month reported"</span>, <span class="at">y =</span> <span class="st">"Beneficiaries (cumulative)"</span>, </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Beneficiaries reached in 2020"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="reporting_5w_english_files/figure-html/line-PLOT-cumulative-beneficiaries-1.png" class="img-fluid figure-img" width="912"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>At this point, we would probably investigate the spike in beneficiaries at the end of the year. It is entirely possible that it is an artefact of reporting – in that several partners could have waited until their programmes ended to report their beneficiaries, as opposed to doing it over the course of the year. But since this example is just for illustration, we can just report:</p>
<blockquote class="blockquote">
<p><strong>50.64%</strong> of beneficiaries were reached after October.</p>
</blockquote>
<p><br><br></p>
<section id="a.-progress-by-activity-by-month" class="level3">
<h3 class="anchored" data-anchor-id="a.-progress-by-activity-by-month">3a. Progress by activity by month</h3>
<p>Let us try something a little more fancy, let us make an interactive plot. This uses the package <code>plotly</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>act_lines <span class="ot">&lt;-</span> act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_reported =</span> <span class="fu">as.Date</span>(month_reported)) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(activity_short, month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_ben =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative =</span> <span class="fu">round</span>(<span class="fu">cumsum</span>(sum_ben))) <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> month_reported, <span class="at">y =</span> cumulative, <span class="at">colour =</span> activity_short, </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">"activity: "</span>, activity_short, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"month: "</span>, <span class="fu">month</span>(month_reported, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>               <span class="st">"beneficiaries: "</span>, <span class="fu">format</span>(<span class="fu">round</span>(sum_ben), <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>               <span class="st">"cumulative: "</span>, <span class="fu">format</span>(cumulative, <span class="at">big.mark =</span> <span class="st">","</span>)), </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">group =</span> activity_short)) <span class="sc">+</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">"%b"</span>, <span class="at">date_breaks =</span> <span class="st">"1 month"</span>) <span class="sc">+</span> </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">scale =</span> <span class="fl">1e-3</span>, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">500000</span>)) <span class="sc">+</span> </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Progress by activity"</span>) <span class="sc">+</span> </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">name =</span> <span class="st">"Activity"</span>) <span class="sc">+</span> </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>)) <span class="sc">+</span> </span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(act_lines, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>   <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-fae7108ecc288bda9315" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-fae7108ecc288bda9315">{"x":{"data":[{"x":[18292,18321,18352,18382,18413,18443,18474,18596],"y":[44,49,443,1300,1735,3416,3808,3869],"text":["activity: 1.01_school_reintegration<br />month: Jan<br />beneficiaries:      44<br />cumulative:      44","activity: 1.01_school_reintegration<br />month: Feb<br />beneficiaries:       5<br />cumulative:      49","activity: 1.01_school_reintegration<br />month: Mar<br />beneficiaries:     394<br />cumulative:     443","activity: 1.01_school_reintegration<br />month: Apr<br />beneficiaries:     857<br />cumulative:   1,300","activity: 1.01_school_reintegration<br />month: May<br />beneficiaries:     435<br />cumulative:   1,735","activity: 1.01_school_reintegration<br />month: Jun<br />beneficiaries:   1,681<br />cumulative:   3,416","activity: 1.01_school_reintegration<br />month: Jul<br />beneficiaries:     392<br />cumulative:   3,808","activity: 1.01_school_reintegration<br />month: Nov<br />beneficiaries:      61<br />cumulative:   3,869"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"1.01_school_reintegration","legendgroup":"1.01_school_reintegration","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"frame":null},{"x":[18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[1071,1975,2490,4160,5705,7001,7726,10052,14016],"text":["activity: 1.02_leveling_capacitation<br />month: Mar<br />beneficiaries:   1,071<br />cumulative:   1,071","activity: 1.02_leveling_capacitation<br />month: Apr<br />beneficiaries:     904<br />cumulative:   1,975","activity: 1.02_leveling_capacitation<br />month: May<br />beneficiaries:     515<br />cumulative:   2,490","activity: 1.02_leveling_capacitation<br />month: Jun<br />beneficiaries:   1,670<br />cumulative:   4,160","activity: 1.02_leveling_capacitation<br />month: Jul<br />beneficiaries:   1,545<br />cumulative:   5,705","activity: 1.02_leveling_capacitation<br />month: Aug<br />beneficiaries:   1,296<br />cumulative:   7,001","activity: 1.02_leveling_capacitation<br />month: Sep<br />beneficiaries:     725<br />cumulative:   7,726","activity: 1.02_leveling_capacitation<br />month: Oct<br />beneficiaries:   2,326<br />cumulative:  10,052","activity: 1.02_leveling_capacitation<br />month: Nov<br />beneficiaries:   3,964<br />cumulative:  14,016"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(216,144,0,1)","dash":"solid"},"hoveron":"points","name":"1.02_leveling_capacitation","legendgroup":"1.02_leveling_capacitation","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(216,144,0,1)"}},"frame":null},{"x":[18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[44234,92818,110863,122344,153999,170699,185006,188054,189663,351037,471568],"text":["activity: 1.03_school_kits<br />month: Jan<br />beneficiaries:  44,234<br />cumulative:  44,234","activity: 1.03_school_kits<br />month: Feb<br />beneficiaries:  48,584<br />cumulative:  92,818","activity: 1.03_school_kits<br />month: Mar<br />beneficiaries:  18,045<br />cumulative: 110,863","activity: 1.03_school_kits<br />month: Apr<br />beneficiaries:  11,481<br />cumulative: 122,344","activity: 1.03_school_kits<br />month: May<br />beneficiaries:  31,655<br />cumulative: 153,999","activity: 1.03_school_kits<br />month: Jun<br />beneficiaries:  16,700<br />cumulative: 170,699","activity: 1.03_school_kits<br />month: Jul<br />beneficiaries:  14,307<br />cumulative: 185,006","activity: 1.03_school_kits<br />month: Aug<br />beneficiaries:   3,048<br />cumulative: 188,054","activity: 1.03_school_kits<br />month: Sep<br />beneficiaries:   1,609<br />cumulative: 189,663","activity: 1.03_school_kits<br />month: Oct<br />beneficiaries: 161,374<br />cumulative: 351,037","activity: 1.03_school_kits<br />month: Nov<br />beneficiaries: 120,531<br />cumulative: 471,568"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(163,165,0,1)","dash":"solid"},"hoveron":"points","name":"1.03_school_kits","legendgroup":"1.03_school_kits","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(163,165,0,1)"}},"frame":null},{"x":[18321,18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[8951,9882,36165,67112,94965,96461,108599,118848,149938,156472],"text":["activity: 1.04_school_feeding<br />month: Feb<br />beneficiaries:   8,951<br />cumulative:   8,951","activity: 1.04_school_feeding<br />month: Mar<br />beneficiaries:     931<br />cumulative:   9,882","activity: 1.04_school_feeding<br />month: Apr<br />beneficiaries:  26,283<br />cumulative:  36,165","activity: 1.04_school_feeding<br />month: May<br />beneficiaries:  30,947<br />cumulative:  67,112","activity: 1.04_school_feeding<br />month: Jun<br />beneficiaries:  27,853<br />cumulative:  94,965","activity: 1.04_school_feeding<br />month: Jul<br />beneficiaries:   1,496<br />cumulative:  96,461","activity: 1.04_school_feeding<br />month: Aug<br />beneficiaries:  12,138<br />cumulative: 108,599","activity: 1.04_school_feeding<br />month: Sep<br />beneficiaries:  10,249<br />cumulative: 118,848","activity: 1.04_school_feeding<br />month: Oct<br />beneficiaries:  31,090<br />cumulative: 149,938","activity: 1.04_school_feeding<br />month: Nov<br />beneficiaries:   6,534<br />cumulative: 156,472"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(57,182,0,1)","dash":"solid"},"hoveron":"points","name":"1.04_school_feeding","legendgroup":"1.04_school_feeding","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(57,182,0,1)"}},"frame":null},{"x":[18292,18321,18352,18382,18413,18443,18474,18535,18566,18596],"y":[15337,17260,53729,54451,63634,81792,96084,116120,140600,144775],"text":["activity: 1.05_promotion_key_messages<br />month: Jan<br />beneficiaries:  15,337<br />cumulative:  15,337","activity: 1.05_promotion_key_messages<br />month: Feb<br />beneficiaries:   1,923<br />cumulative:  17,260","activity: 1.05_promotion_key_messages<br />month: Mar<br />beneficiaries:  36,469<br />cumulative:  53,729","activity: 1.05_promotion_key_messages<br />month: Apr<br />beneficiaries:     722<br />cumulative:  54,451","activity: 1.05_promotion_key_messages<br />month: May<br />beneficiaries:   9,183<br />cumulative:  63,634","activity: 1.05_promotion_key_messages<br />month: Jun<br />beneficiaries:  18,158<br />cumulative:  81,792","activity: 1.05_promotion_key_messages<br />month: Jul<br />beneficiaries:  14,292<br />cumulative:  96,084","activity: 1.05_promotion_key_messages<br />month: Sep<br />beneficiaries:  20,036<br />cumulative: 116,120","activity: 1.05_promotion_key_messages<br />month: Oct<br />beneficiaries:  24,480<br />cumulative: 140,600","activity: 1.05_promotion_key_messages<br />month: Nov<br />beneficiaries:   4,175<br />cumulative: 144,775"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(0,191,125,1)","dash":"solid"},"hoveron":"points","name":"1.05_promotion_key_messages","legendgroup":"1.05_promotion_key_messages","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,125,1)"}},"frame":null},{"x":[18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[1687,27214,27920,52685,56914,67016,102319,106531,107744,117391,120887],"text":["activity: 1.06_psychosocial_support<br />month: Jan<br />beneficiaries:   1,687<br />cumulative:   1,687","activity: 1.06_psychosocial_support<br />month: Feb<br />beneficiaries:  25,527<br />cumulative:  27,214","activity: 1.06_psychosocial_support<br />month: Mar<br />beneficiaries:     706<br />cumulative:  27,920","activity: 1.06_psychosocial_support<br />month: Apr<br />beneficiaries:  24,765<br />cumulative:  52,685","activity: 1.06_psychosocial_support<br />month: May<br />beneficiaries:   4,229<br />cumulative:  56,914","activity: 1.06_psychosocial_support<br />month: Jun<br />beneficiaries:  10,102<br />cumulative:  67,016","activity: 1.06_psychosocial_support<br />month: Jul<br />beneficiaries:  35,303<br />cumulative: 102,319","activity: 1.06_psychosocial_support<br />month: Aug<br />beneficiaries:   4,212<br />cumulative: 106,531","activity: 1.06_psychosocial_support<br />month: Sep<br />beneficiaries:   1,213<br />cumulative: 107,744","activity: 1.06_psychosocial_support<br />month: Oct<br />beneficiaries:   9,647<br />cumulative: 117,391","activity: 1.06_psychosocial_support<br />month: Nov<br />beneficiaries:   3,496<br />cumulative: 120,887"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"1.06_psychosocial_support","legendgroup":"1.06_psychosocial_support","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"frame":null},{"x":[18292,18321,18505],"y":[19,175,4317],"text":["activity: 1.07_recreational_activities<br />month: Jan<br />beneficiaries:      19<br />cumulative:      19","activity: 1.07_recreational_activities<br />month: Feb<br />beneficiaries:     156<br />cumulative:     175","activity: 1.07_recreational_activities<br />month: Aug<br />beneficiaries:   4,142<br />cumulative:   4,317"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(0,176,246,1)","dash":"solid"},"hoveron":"points","name":"1.07_recreational_activities","legendgroup":"1.07_recreational_activities","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,176,246,1)"}},"frame":null},{"x":[18352,18382,18413,18443,18474,18535,18566,18596],"y":[17409,21581,22242,39744,40072,42623,50365,132258],"text":["activity: 2.08_distance education<br />month: Mar<br />beneficiaries:  17,409<br />cumulative:  17,409","activity: 2.08_distance education<br />month: Apr<br />beneficiaries:   4,172<br />cumulative:  21,581","activity: 2.08_distance education<br />month: May<br />beneficiaries:     661<br />cumulative:  22,242","activity: 2.08_distance education<br />month: Jun<br />beneficiaries:  17,502<br />cumulative:  39,744","activity: 2.08_distance education<br />month: Jul<br />beneficiaries:     328<br />cumulative:  40,072","activity: 2.08_distance education<br />month: Sep<br />beneficiaries:   2,551<br />cumulative:  42,623","activity: 2.08_distance education<br />month: Oct<br />beneficiaries:   7,742<br />cumulative:  50,365","activity: 2.08_distance education<br />month: Nov<br />beneficiaries:  81,893<br />cumulative: 132,258"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(149,144,255,1)","dash":"solid"},"hoveron":"points","name":"2.08_distance education","legendgroup":"2.08_distance education","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(149,144,255,1)"}},"frame":null},{"x":[18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[3977,9190,11290,12293,12936,13049,15916,15997,16089,16671,17238],"text":["activity: 2.09_teacher_training<br />month: Jan<br />beneficiaries:   3,977<br />cumulative:   3,977","activity: 2.09_teacher_training<br />month: Feb<br />beneficiaries:   5,213<br />cumulative:   9,190","activity: 2.09_teacher_training<br />month: Mar<br />beneficiaries:   2,100<br />cumulative:  11,290","activity: 2.09_teacher_training<br />month: Apr<br />beneficiaries:   1,003<br />cumulative:  12,293","activity: 2.09_teacher_training<br />month: May<br />beneficiaries:     643<br />cumulative:  12,936","activity: 2.09_teacher_training<br />month: Jun<br />beneficiaries:     113<br />cumulative:  13,049","activity: 2.09_teacher_training<br />month: Jul<br />beneficiaries:   2,867<br />cumulative:  15,916","activity: 2.09_teacher_training<br />month: Aug<br />beneficiaries:      81<br />cumulative:  15,997","activity: 2.09_teacher_training<br />month: Sep<br />beneficiaries:      92<br />cumulative:  16,089","activity: 2.09_teacher_training<br />month: Oct<br />beneficiaries:     582<br />cumulative:  16,671","activity: 2.09_teacher_training<br />month: Nov<br />beneficiaries:     567<br />cumulative:  17,238"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(231,107,243,1)","dash":"solid"},"hoveron":"points","name":"2.09_teacher_training","legendgroup":"2.09_teacher_training","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(231,107,243,1)"}},"frame":null},{"x":[18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[21,183,399,697,2727,3240,4263,4347,5744],"text":["activity: 2.10_teacher_scholarships<br />month: Mar<br />beneficiaries:      21<br />cumulative:      21","activity: 2.10_teacher_scholarships<br />month: Apr<br />beneficiaries:     162<br />cumulative:     183","activity: 2.10_teacher_scholarships<br />month: May<br />beneficiaries:     216<br />cumulative:     399","activity: 2.10_teacher_scholarships<br />month: Jun<br />beneficiaries:     298<br />cumulative:     697","activity: 2.10_teacher_scholarships<br />month: Jul<br />beneficiaries:   2,030<br />cumulative:   2,727","activity: 2.10_teacher_scholarships<br />month: Aug<br />beneficiaries:     513<br />cumulative:   3,240","activity: 2.10_teacher_scholarships<br />month: Sep<br />beneficiaries:   1,023<br />cumulative:   4,263","activity: 2.10_teacher_scholarships<br />month: Oct<br />beneficiaries:      84<br />cumulative:   4,347","activity: 2.10_teacher_scholarships<br />month: Nov<br />beneficiaries:   1,397<br />cumulative:   5,744"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(255,98,188,1)","dash":"solid"},"hoveron":"points","name":"2.10_teacher_scholarships","legendgroup":"2.10_teacher_scholarships","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,98,188,1)"}},"frame":null}],"layout":{"margin":{"t":42.927592954990217,"r":7.3059360730593621,"b":24.735812133072411,"l":48.949771689497723},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Progress by activity","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342468},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18276.799999999999,18611.200000000001],"tickmode":"array","ticktext":["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"tickvals":[18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597],"categoryorder":"array","categoryarray":["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-25000,525000],"tickmode":"array","ticktext":["0K","100K","200K","300K","400K","500K"],"tickvals":[0,100000,200000,300000,400000,500000],"categoryorder":"array","categoryarray":["0K","100K","200K","300K","400K","500K"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"Beneficiaries","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":6},"title":{"text":"Activity","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"source":"A","attrs":{"1e4862392b21":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"1e485d107839":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"1e4862392b21","visdat":{"1e4862392b21":["function (y) ","x"],"1e485d107839":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<blockquote class="blockquote">
<p>Progress in recent months has largely been due to the distribution of education kits and distance learning.</p>
</blockquote>
<p>Though, as we mentioned earlier, this might just be an artefact of partners’ reporting schedules and might not indicate a massive ramp up. It also could have been that implementation delays led to school kits only being distributed at the end of the school year, which is quite unideal.</p>
<p><br><br><br></p>
</section>
</section>
<section id="summaries-by-geography" class="level2">
<h2 class="anchored" data-anchor-id="summaries-by-geography">4. Summaries by geography</h2>
<section id="a.-beneficiaries-by-state" class="level3">
<h3 class="anchored" data-anchor-id="a.-beneficiaries-by-state">4a. Beneficiaries by state</h3>
<p>The plot below is a simple barplot of unique beneficiaries by state:</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>u_ben <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_to_title</span>(state)) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(state, beneficiaries, <span class="at">.desc =</span> <span class="cn">TRUE</span>), </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> beneficiaries)) <span class="sc">+</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"cornflowerblue"</span>) <span class="sc">+</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">850000</span>) <span class="sc">+</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(beneficiaries, <span class="at">accuracy =</span> <span class="dv">1</span>)), </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">25</span>, <span class="at">hjust =</span> .<span class="dv">05</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">angle =</span> <span class="dv">30</span>) <span class="sc">+</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, <span class="at">scale =</span> <span class="fl">1e-3</span>, <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>)) <span class="sc">+</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Unique beneficiaries by state"</span>) <span class="sc">+</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="reporting_5w_english_files/figure-html/PLOT-beneficiairies-by-state-1.png" class="img-fluid figure-img" width="912"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="b.-number-of-schools-by-state" class="level3">
<h3 class="anchored" data-anchor-id="b.-number-of-schools-by-state">4b. Number of schools by state</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reference dataset for inline text </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>mira_zul <span class="ot">&lt;-</span> u_ben <span class="sc">%&gt;%</span> <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"miranda"</span> <span class="sc">|</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                              state <span class="sc">==</span> <span class="st">"zulia"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>A total of <strong>2,229</strong> schools have been reached by UNICEF; <strong>44%</strong> are from Miranda and Zulia alone.</p>
</blockquote>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>u_ben <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(location) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">location =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_to_title</span>(state)) <span class="sc">|&gt;</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(state, location, <span class="at">.desc =</span> <span class="cn">TRUE</span>), <span class="at">y =</span> location)) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"cornflowerblue"</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(location)), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.25</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Number of schools"</span>, </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Schools reached by state"</span>) <span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="reporting_5w_english_files/figure-html/PLOT-of-ubicacion-by-state-1.png" class="img-fluid figure-img" width="912"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The bars can also be coloured according to which field office they pertain to, which would be useful for internal reporting and comparisons.</p>
<p><br></p>
</section>
<section id="c.-scatterplot-of-municipalities" class="level3">
<h3 class="anchored" data-anchor-id="c.-scatterplot-of-municipalities">4c. Scatterplot of municipalities</h3>
<p>We will now report on a lower administrative level to get a more accurate picture of response coverage. State-level summaries are of limited use in actual programming since they are such large administrative divisions.</p>
<p>We first create a municipal-level dataset for our visualisations and reporting. This dataset can also be exported out for managers. Or we can also load it into an interactive reference table to be explored.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating the all_mun df</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># all_mun is one obs per pcode2</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>all_mun <span class="ot">&lt;-</span>  cen_ref <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">population_urban =</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>           x_2019_poblacion_parroquial_total <span class="sc">*</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>           poblacion_urbana_percent <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pcode2,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">population2019 =</span> x_2019_poblacion_parroquial_total,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">population_poor =</span> ham_2019_xx_poblacion_pobre_por_parroquia,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>         population_urban) <span class="sc">|&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pcode2) <span class="sc">|&gt;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">population2019 =</span> <span class="fu">sum</span>(population2019),</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">population_poor =</span> <span class="fu">sum</span>(population_poor),</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">population_urban =</span> <span class="fu">sum</span>(population_urban)) <span class="sc">|&gt;</span> </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(cen_ref <span class="sc">|&gt;</span>  <span class="co"># for bringing matricula2017 into all_mun</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"matricula_2017_educacion_inicial"</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"matricula_2017_educacion_primaria"</span>, </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"matricula_2017_educacion_media"</span>), </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_to =</span> <span class="st">"age_ben"</span>, <span class="at">values_to =</span> <span class="st">"matricula2017"</span>, </span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(pcode2, age_ben, matricula2017) <span class="sc">%&gt;%</span> </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(pcode2) <span class="sc">%&gt;%</span> </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">matricula2017 =</span> <span class="fu">sum</span>(matricula2017)), </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"pcode2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(u_ben <span class="sc">|&gt;</span> </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>              <span class="co"># Identifying which beneficiaries are school-aged children</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">is_matric =</span> <span class="fu">case_when</span>( <span class="co"># for beneficiaries aged 3-17</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>                <span class="fu">str_detect</span>(disaggregation,<span class="st">"3_6$"</span>) <span class="sc">~</span> <span class="st">"matric"</span>,</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>                <span class="fu">str_detect</span>(disaggregation,<span class="st">"7_12$"</span>) <span class="sc">~</span> <span class="st">"matric"</span>,</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>                <span class="fu">str_detect</span>(disaggregation,<span class="st">"12_17$"</span>) <span class="sc">~</span> <span class="st">"matric"</span>,</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>                <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"non_matric"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">beneficiaries_3_17 =</span> <span class="fu">ifelse</span>(is_matric <span class="sc">==</span> <span class="st">"matric"</span>, beneficiaries, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(state, municipality, pcode2) <span class="sc">|&gt;</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">round</span>(<span class="fu">sum</span>(beneficiaries)),</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>                        <span class="at">beneficiaries_3_17 =</span> <span class="fu">round</span>(<span class="fu">sum</span>(beneficiaries_3_17)),</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>                        <span class="at">.groups =</span> <span class="st">"drop"</span>), </span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"pcode2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(act_ben <span class="sc">%&gt;%</span> <span class="co"># bringing activity counts into u_ben</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(pcode2) <span class="sc">|&gt;</span> </span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">activity_types =</span> <span class="fu">n_distinct</span>(activity_short)), </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"pcode2"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">coverage_percent =</span> beneficiaries_3_17 <span class="sc">/</span> matricula2017, </span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_urban =</span> population_urban <span class="sc">/</span> population2019, </span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_poor =</span> population_poor <span class="sc">/</span> population2019) <span class="sc">%&gt;%</span> </span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">fct_reorder</span>(state, beneficiaries, <span class="at">.desc =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"state"</span>, <span class="st">"municipality"</span>), <span class="sc">~</span> <span class="fu">str_to_title</span>(.)) <span class="sc">|&gt;</span> </span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(beneficiaries))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>However, due to the number of municipalities, using a table or a barplot for visualisation would be impractical. So we will use a scatterplot, which we preface with some explanations:</p>
<blockquote class="blockquote">
<p><em>logarithmic scale; larger points indicate more beneficiaries reached, darker blues indicate more activity types</em></p>
</blockquote>
<blockquote class="blockquote">
<p><em>mouse over municipalities to see beneficiaries and distinct activities</em></p>
</blockquote>
<blockquote class="blockquote">
<p>A total of <strong>110</strong> municipalities were reached by the UNICEF Education programme.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>all_mun_points <span class="ot">&lt;-</span> all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">text =</span> municipality, <span class="at">x =</span> state, <span class="at">y =</span> beneficiaries, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> activity_types)) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> beneficiaries), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#find a better colour scheme?</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"azure4"</span>, <span class="at">high =</span> <span class="st">"darkblue"</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)) <span class="sc">+</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>, </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Beneficiaries reached by municipality"</span>, </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">"Activity</span><span class="sc">\n</span><span class="st">types"</span>) <span class="sc">+</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>), </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(all_mun_points, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"y"</span>, <span class="st">"colour"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-817401710cdd2097b06c" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-817401710cdd2097b06c">{"x":{"data":[{"x":[8,13,19,5,19,1,11,5,7,5,13,17,17,19,13,10,13,13,19,17,5,13,19,5,12,3,13,13,17,19,12,13,13,9,13,13,17,19,5,17,6,17,5,5,17,17,19,11,9,19,3,19,13,16,19,4,1,2,17,13,14,13,13,2,19,17,15,6,17,13,11,6,13,14,6,9,17,12,18,17,1,17,19,9,12,14,2,2,13,11,1,16,7,18,7,19,2,1,16,4,17,12,19,17,12,3,13,13,15,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"y":[4.9056987601841602,4.7721456056938516,4.7432745235119338,4.5787308719527742,4.4678891592611194,4.3508292735829679,4.3419684081799383,4.2622849343777442,4.2541370308854685,4.195373754817413,4.1472124169704578,4.1301728888925355,4.1254812657005937,4.1099832948198927,4.1048284036536558,4.095343731872525,4.0533089811240997,4.0264515457382402,4.0258381642297003,4.0230053972499347,3.9989999722183205,3.9847072944826731,3.9800033715837464,3.9345489476661468,3.9224659452984132,3.9030356967884972,3.9027641439240859,3.8971870765801535,3.8956435048240792,3.8928178243095761,3.8512583487190755,3.8445393021290077,3.8431704645198979,3.8327643049405316,3.8273046410897349,3.821906377352323,3.8200700343123257,3.8174331441113845,3.7467120225166606,3.7190825739014861,3.6858312746260635,3.6754116937148633,3.6710802327388494,3.6125719540651762,3.5826314394896364,3.5739154404215507,3.5674968911042226,3.5380707870431718,3.5337720583847179,3.5298151966446305,3.5108130105124959,3.5032457714651128,3.5014700721004122,3.4345689040341987,3.4315245841874509,3.388988785124714,3.3656751404559175,3.3586960995738107,3.3404441148401185,3.3153404766272883,3.3025473724874854,3.2667019668840878,3.245759355967277,3.2214142378423385,3.2008504980910772,3.1316186643491255,3.1182647260894791,3.1038037209559568,3.0678145111618402,3.0663259253620376,3.0149403497929366,2.9845273133437926,2.9566485792052033,2.8926510338773004,2.8887409606828927,2.7701152947871015,2.7543483357110188,2.7466341989375787,2.7427251313046983,2.7379873263334309,2.7041505168397992,2.6981005456233897,2.6910814921229687,2.6776069527204931,2.6711728427150834,2.6711728427150834,2.6454222693490919,2.6190933306267428,2.5899496013257077,2.5646660642520893,2.503790683057181,2.4969296480732148,2.4913616938342726,2.469822015978163,2.4653828514484184,2.4638929889859074,2.4608978427565478,2.4393326938302629,2.4014005407815442,2.27415784926368,2.2695129442179165,2.1903316981702914,2.1875207208364631,2.1789769472931693,1.9956351945975499,1.6627578316815741,0.77815125038364363,0.6020599913279624,0.6020599913279624,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"text":["beneficiaries: 80482<br />Libertador<br />activity_types: 10","beneficiaries: 59176<br />Sucre<br />activity_types: 10","beneficiaries: 55370<br />Maracaibo<br />activity_types: 10","beneficiaries: 37908<br />Caroni<br />activity_types:  9","beneficiaries: 29369<br />San Francisco<br />activity_types: 10","beneficiaries: 22430<br />Atures<br />activity_types:  2","beneficiaries: 21977<br />Iribarren<br />activity_types:  3","beneficiaries: 18293<br />Heres<br />activity_types: 10","beneficiaries: 17953<br />Tucupita<br />activity_types:  8","beneficiaries: 15681<br />Cedeno<br />activity_types:  9","beneficiaries: 14035<br />Urdaneta<br />activity_types:  7","beneficiaries: 13495<br />Junin<br />activity_types:  5","beneficiaries: 13350<br />Fernandez Feo<br />activity_types:  9","beneficiaries: 12882<br />Mara<br />activity_types:  5","beneficiaries: 12730<br />Plaza<br />activity_types:  7","beneficiaries: 12455<br />Vargas<br />activity_types:  6","beneficiaries: 11306<br />Baruta<br />activity_types:  9","beneficiaries: 10628<br />Lander<br />activity_types:  9","beneficiaries: 10613<br />Guajira<br />activity_types:  3","beneficiaries: 10544<br />Ayacucho<br />activity_types:  5","beneficiaries:  9977<br />Sifontes<br />activity_types:  4","beneficiaries:  9654<br />Zamora<br />activity_types:  8","beneficiaries:  9550<br />Machiques De Perija<br />activity_types:  9","beneficiaries:  8601<br />Piar<br />activity_types:  9","beneficiaries:  8365<br />Libertador<br />activity_types:  2","beneficiaries:  7999<br />San Fernando<br />activity_types:  2","beneficiaries:  7994<br />Paz Castillo<br />activity_types:  6","beneficiaries:  7892<br />Acevedo<br />activity_types:  6","beneficiaries:  7864<br />San Cristobal<br />activity_types:  7","beneficiaries:  7813<br />La Canada De Urdaneta<br />activity_types:  9","beneficiaries:  7100<br />Alberto Adriani<br />activity_types:  2","beneficiaries:  6991<br />Independencia<br />activity_types:  6","beneficiaries:  6969<br />Simon Bolivar<br />activity_types:  7","beneficiaries:  6804<br />Miranda<br />activity_types:  3","beneficiaries:  6719<br />El Hatillo<br />activity_types:  7","beneficiaries:  6636<br />Guaicaipuro<br />activity_types:  8","beneficiaries:  6608<br />Panamericano<br />activity_types:  2","beneficiaries:  6568<br />Rosario De Perija<br />activity_types:  9","beneficiaries:  5581<br />Bolivariano Angostura<br />activity_types:  7","beneficiaries:  5237<br />Independencia<br />activity_types:  4","beneficiaries:  4851<br />Valencia<br />activity_types:  2","beneficiaries:  4736<br />Torbes<br />activity_types:  8","beneficiaries:  4689<br />Gran Sabana<br />activity_types:  3","beneficiaries:  4098<br />Sucre<br />activity_types:  2","beneficiaries:  3825<br />Bolivar<br />activity_types:  8","beneficiaries:  3749<br />Samuel Dario Maldonado<br />activity_types:  6","beneficiaries:  3694<br />Cabimas<br />activity_types:  6","beneficiaries:  3452<br />Palavecino<br />activity_types:  1","beneficiaries:  3418<br />Carirubana<br />activity_types:  2","beneficiaries:  3387<br />Valmore Rodriguez<br />activity_types:  9","beneficiaries:  3242<br />Paez<br />activity_types:  5","beneficiaries:  3186<br />Jesus Enrique Lossada<br />activity_types:  8","beneficiaries:  3173<br />Buroz<br />activity_types:  2","beneficiaries:  2720<br />Sucre<br />activity_types:  1","beneficiaries:  2701<br />Lagunillas<br />activity_types:  9","beneficiaries:  2449<br />Barinas<br />activity_types:  1","beneficiaries:  2321<br />Autonomo Autana<br />activity_types:  1","beneficiaries:  2284<br />Anaco<br />activity_types:  3","beneficiaries:  2190<br />Cardenas<br />activity_types:  8","beneficiaries:  2067<br />Pedro Gual<br />activity_types:  4","beneficiaries:  2007<br />Maturin<br />activity_types:  2","beneficiaries:  1848<br />Cristobal Rojas<br />activity_types:  2","beneficiaries:  1761<br />Andres Bello<br />activity_types:  2","beneficiaries:  1665<br />Juan Antonio Sotillo<br />activity_types:  2","beneficiaries:  1588<br />Baralt<br />activity_types:  6","beneficiaries:  1354<br />Michelena<br />activity_types:  5","beneficiaries:  1313<br />Paez<br />activity_types:  1","beneficiaries:  1270<br />Puerto Cabello<br />activity_types:  2","beneficiaries:  1169<br />Cordoba<br />activity_types:  2","beneficiaries:  1165<br />Paez<br />activity_types:  3","beneficiaries:  1035<br />Torres<br />activity_types:  2","beneficiaries:   965<br />San Joaquin<br />activity_types:  2","beneficiaries:   905<br />Brion<br />activity_types:  3","beneficiaries:   781<br />Libertador<br />activity_types:  2","beneficiaries:   774<br />Guacara<br />activity_types:  2","beneficiaries:   589<br />Colina<br />activity_types:  1","beneficiaries:   568<br />Garcia De Hevia<br />activity_types:  3","beneficiaries:   558<br />Tovar<br />activity_types:  1","beneficiaries:   553<br />Valera<br />activity_types:  1","beneficiaries:   547<br />Pedro Maria Urena<br />activity_types:  2","beneficiaries:   506<br />Autonomo Atabapo<br />activity_types:  1","beneficiaries:   499<br />Guasimos<br />activity_types:  2","beneficiaries:   491<br />Antonio Jose De Sucre<br />activity_types:  4","beneficiaries:   476<br />Zamora<br />activity_types:  2","beneficiaries:   469<br />Rangel<br />activity_types:  1","beneficiaries:   469<br />Aguasay<br />activity_types:  2","beneficiaries:   442<br />Pedro Maria Freites<br />activity_types:  2","beneficiaries:   416<br />Simon Rodriguez<br />activity_types:  2","beneficiaries:   389<br />Carrizal<br />activity_types:  3","beneficiaries:   367<br />Moran<br />activity_types:  1","beneficiaries:   319<br />Autonomo Alto Orinoco<br />activity_types:  1","beneficiaries:   314<br />Ribero<br />activity_types:  1","beneficiaries:   310<br />Antonio Diaz<br />activity_types:  1","beneficiaries:   295<br />Bocono<br />activity_types:  1","beneficiaries:   292<br />Casacoima<br />activity_types:  6","beneficiaries:   291<br />Colon<br />activity_types:  2","beneficiaries:   289<br />Manuel Ezequiel Bruzual<br />activity_types:  2","beneficiaries:   275<br />Rio Negro<br />activity_types:  1","beneficiaries:   252<br />Valdez<br />activity_types:  1","beneficiaries:   188<br />Rojas<br />activity_types:  1","beneficiaries:   186<br />Libertador<br />activity_types:  3","beneficiaries:   155<br />Campo Elias<br />activity_types:  1","beneficiaries:   154<br />Miranda<br />activity_types:  1","beneficiaries:   151<br />Jose Maria Vargas<br />activity_types:  3","beneficiaries:    99<br />Caracciolo Parra Olmedo<br />activity_types:  1","beneficiaries:    46<br />Biruaca<br />activity_types:  1","beneficiaries:     6<br />Los Salias<br />activity_types:  1","beneficiaries:     4<br />Chacao<br />activity_types:  1","beneficiaries:     4<br />Guanare<br />activity_types:  1","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA","beneficiaries:    NA<br />NA<br />activity_types: NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(0,0,139,1)","rgba(0,0,139,1)","rgba(0,0,139,1)","rgba(40,21,140,1)","rgba(0,0,139,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(0,0,139,1)","rgba(59,37,140,1)","rgba(40,21,140,1)","rgba(74,52,141,1)","rgba(97,81,141,1)","rgba(40,21,140,1)","rgba(97,81,141,1)","rgba(74,52,141,1)","rgba(86,66,141,1)","rgba(40,21,140,1)","rgba(40,21,140,1)","rgba(115,110,140,1)","rgba(97,81,141,1)","rgba(106,95,141,1)","rgba(59,37,140,1)","rgba(40,21,140,1)","rgba(40,21,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(86,66,141,1)","rgba(74,52,141,1)","rgba(40,21,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(74,52,141,1)","rgba(115,110,140,1)","rgba(74,52,141,1)","rgba(59,37,140,1)","rgba(123,124,140,1)","rgba(40,21,140,1)","rgba(74,52,141,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(59,37,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(59,37,140,1)","rgba(86,66,141,1)","rgba(86,66,141,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(40,21,140,1)","rgba(97,81,141,1)","rgba(59,37,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(40,21,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(59,37,140,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(97,81,141,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(86,66,141,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)"],"opacity":0.90000000000000002,"size":[22.677165354330711,19.983707513219745,19.453912472432762,16.748675817075814,15.194738359625386,13.755261143008422,13.653993385119806,12.788264659959061,12.704133762611574,12.120187454100243,11.670186016115267,11.51685549847498,11.47516313269068,11.3390288171323,11.29428371256245,11.21264594572652,10.861375292150782,10.645672458141837,10.64082359929521,10.618474568938247,10.431980986020942,10.323366321321249,10.288008662765208,9.956026860523048,9.8706600338560477,9.7358495528389746,9.7339867468532191,9.6958574805317586,9.6853475599247183,9.6661562753047381,9.3909858171299803,9.3477208781175083,9.3389476682696326,9.2727019867331943,9.2382616821586758,9.2044207515858236,9.1929568135367532,9.1765375180450981,8.7542545902670863,8.5983874647633325,8.4172573658658472,8.3619096740624492,8.3390959144837762,8.0418161584207244,7.8972536302830409,7.8560969973908721,7.8260515199742047,7.6911106658619852,7.6717772395088755,7.6540656261304614,7.5701222977859546,7.5372008762977298,7.529517069102968,7.2511606239936484,7.2389962660317,7.0734120471261024,6.986032770974294,6.9603275154988298,6.8940682704100018,6.8051765754608944,6.7608531495796393,6.6400765602522895,6.5717808663854003,6.4944270088100327,6.4307521657767843,6.2271014822736044,6.1896480578855302,6.1497318832335086,6.053220931930297,6.0493142394003119,5.918465902671084,5.8445778235933972,5.7790732327792194,5.6363887639390517,5.6280056005614041,5.390717961884123,5.3615348666716134,5.3474472548277854,5.3403557680236071,5.3318032203136765,5.2720497323574493,5.261607170117566,5.2495819847002725,5.2267654769244256,5.2159937531044553,5.2159937531044553,5.1736662768498034,5.1316547339753766,5.086598917078641,5.0487047126680977,4.9618180869053852,4.9523972951146655,4.9448058254706284,4.9158862237117154,4.9100135298004792,4.9080491738928966,4.9041101684547304,4.876141035545281,4.8285741424876729,4.683130934915682,4.6782066291766933,4.5981005425441532,4.5953855334612799,4.5871857477179239,4.4288056313179558,4.2112390201406384,3.8737347232838983,3.7795275590551185,3.7795275590551185,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(0,0,139,1)","rgba(0,0,139,1)","rgba(0,0,139,1)","rgba(40,21,140,1)","rgba(0,0,139,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(0,0,139,1)","rgba(59,37,140,1)","rgba(40,21,140,1)","rgba(74,52,141,1)","rgba(97,81,141,1)","rgba(40,21,140,1)","rgba(97,81,141,1)","rgba(74,52,141,1)","rgba(86,66,141,1)","rgba(40,21,140,1)","rgba(40,21,140,1)","rgba(115,110,140,1)","rgba(97,81,141,1)","rgba(106,95,141,1)","rgba(59,37,140,1)","rgba(40,21,140,1)","rgba(40,21,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(86,66,141,1)","rgba(74,52,141,1)","rgba(40,21,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(74,52,141,1)","rgba(115,110,140,1)","rgba(74,52,141,1)","rgba(59,37,140,1)","rgba(123,124,140,1)","rgba(40,21,140,1)","rgba(74,52,141,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(59,37,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(59,37,140,1)","rgba(86,66,141,1)","rgba(86,66,141,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(40,21,140,1)","rgba(97,81,141,1)","rgba(59,37,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(40,21,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(59,37,140,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(86,66,141,1)","rgba(97,81,141,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(106,95,141,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(86,66,141,1)","rgba(123,124,140,1)","rgba(123,124,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(115,110,140,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(131,139,139,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[1],"name":"7f99131e2f29c411f4fc4c6e3cd36a6a","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#838B8B"],[0.0033444816053511683,"#838B8B"],[0.0066889632107023367,"#838A8B"],[0.010033444816053505,"#828A8B"],[0.013377926421404673,"#82898B"],[0.016722408026755866,"#82898B"],[0.02006688963210701,"#82888B"],[0.023411371237458203,"#81888B"],[0.026755852842809371,"#81878B"],[0.030100334448160539,"#81878B"],[0.033444816053511711,"#81878B"],[0.03678929765886288,"#81868B"],[0.040133779264214048,"#80868B"],[0.043478260869565216,"#80858B"],[0.046822742474916385,"#80858B"],[0.050167224080267553,"#80848B"],[0.053511705685618742,"#7F848B"],[0.05685618729096989,"#7F838B"],[0.060200668896321079,"#7F838B"],[0.063545150501672254,"#7F838B"],[0.066889632107023422,"#7F828C"],[0.070234113712374591,"#7E828C"],[0.073578595317725759,"#7E818C"],[0.076923076923076927,"#7E818C"],[0.080267558528428096,"#7E808C"],[0.083612040133779278,"#7D808C"],[0.086956521739130432,"#7D7F8C"],[0.090301003344481615,"#7D7F8C"],[0.093645484949832769,"#7D7F8C"],[0.096989966555183951,"#7C7E8C"],[0.10033444816053512,"#7C7E8C"],[0.10367892976588629,"#7C7D8C"],[0.10702341137123746,"#7C7D8C"],[0.11036789297658862,"#7B7C8C"],[0.11371237458193978,"#7B7C8C"],[0.11705685618729096,"#7B7B8C"],[0.12040133779264216,"#7B7B8C"],[0.1237458193979933,"#7B7B8C"],[0.12709030100334451,"#7A7A8C"],[0.13043478260869565,"#7A7A8C"],[0.13377926421404684,"#7A798C"],[0.13712374581939801,"#7A798C"],[0.14046822742474918,"#79788C"],[0.14381270903010032,"#79788C"],[0.14715719063545152,"#79778C"],[0.15050167224080269,"#79778C"],[0.15384615384615385,"#78778C"],[0.157190635451505,"#78768C"],[0.16053511705685619,"#78768C"],[0.16387959866220736,"#78758C"],[0.16722408026755856,"#77758C"],[0.1705685618729097,"#77748C"],[0.17391304347826086,"#77748C"],[0.17725752508361203,"#77738C"],[0.18060200668896323,"#76738C"],[0.18394648829431437,"#76738C"],[0.18729096989966554,"#76728C"],[0.19063545150501671,"#76728C"],[0.1939799331103679,"#75718C"],[0.1973244147157191,"#75718C"],[0.20066889632107024,"#75708C"],[0.20401337792642138,"#75708C"],[0.20735785953177258,"#74708C"],[0.21070234113712377,"#746F8C"],[0.21404682274247491,"#746F8C"],[0.21739130434782605,"#746E8C"],[0.22073578595317725,"#736E8C"],[0.22408026755852845,"#736D8C"],[0.22742474916387959,"#736D8C"],[0.23076923076923078,"#736C8C"],[0.23411371237458192,"#726C8C"],[0.23745819397993312,"#726C8C"],[0.24080267558528426,"#726B8C"],[0.24414715719063546,"#726B8C"],[0.2474916387959866,"#716A8C"],[0.25083612040133779,"#716A8C"],[0.25418060200668902,"#71698C"],[0.25752508361204013,"#71698D"],[0.26086956521739135,"#70698D"],[0.26421404682274247,"#70688D"],[0.26755852842809369,"#70688D"],[0.2709030100334448,"#6F678D"],[0.27424749163879603,"#6F678D"],[0.27759197324414714,"#6F668D"],[0.28093645484949836,"#6F668D"],[0.28428093645484948,"#6E658D"],[0.2876254180602007,"#6E658D"],[0.29096989966555187,"#6E658D"],[0.29431438127090304,"#6E648D"],[0.2976588628762542,"#6D648D"],[0.30100334448160537,"#6D638D"],[0.30434782608695654,"#6D638D"],[0.30769230769230771,"#6D628D"],[0.31103678929765888,"#6C628D"],[0.31438127090301005,"#6C628D"],[0.31772575250836121,"#6C618D"],[0.32107023411371238,"#6B618D"],[0.32441471571906355,"#6B608D"],[0.32775919732441472,"#6B608D"],[0.33110367892976589,"#6B5F8D"],[0.33444816053511711,"#6A5F8D"],[0.33779264214046822,"#6A5F8D"],[0.34113712374581939,"#6A5E8D"],[0.34448160535117051,"#695E8D"],[0.34782608695652173,"#695D8D"],[0.3511705685618729,"#695D8D"],[0.35451505016722407,"#695C8D"],[0.35785953177257529,"#685C8D"],[0.36120401337792646,"#685B8D"],[0.36454849498327768,"#685B8D"],[0.36789297658862874,"#685B8D"],[0.37123745819397996,"#675A8D"],[0.37458193979933108,"#675A8D"],[0.37792642140468224,"#67598D"],[0.38127090301003341,"#66598D"],[0.38461538461538464,"#66588D"],[0.38795986622073581,"#66588D"],[0.39130434782608703,"#65588D"],[0.3946488294314382,"#65578D"],[0.39799331103678931,"#65578D"],[0.40133779264214048,"#65568D"],[0.40468227424749159,"#64568D"],[0.40802675585284276,"#64558D"],[0.41137123745819398,"#64558D"],[0.41471571906354515,"#63558D"],[0.41806020066889638,"#63548D"],[0.42140468227424754,"#63548D"],[0.42474916387959866,"#63538D"],[0.42809364548494983,"#62538D"],[0.43143812709030105,"#62528D"],[0.43478260869565211,"#62528D"],[0.43812709030100333,"#61528D"],[0.4414715719063545,"#61518D"],[0.44481605351170572,"#61518D"],[0.44816053511705689,"#60508D"],[0.451505016722408,"#60508D"],[0.45484949832775917,"#604F8D"],[0.4581939799331104,"#5F4F8D"],[0.46153846153846156,"#5F4E8D"],[0.46488294314381279,"#5F4E8D"],[0.46822742474916385,"#5F4E8D"],[0.47157190635451507,"#5E4D8D"],[0.47491638795986624,"#5E4D8D"],[0.47826086956521746,"#5E4C8D"],[0.48160535117056852,"#5D4C8D"],[0.48494983277591974,"#5D4B8D"],[0.48829431438127091,"#5D4B8D"],[0.49163879598662213,"#5C4B8D"],[0.49498327759197319,"#5C4A8D"],[0.49832775919732442,"#5C4A8D"],[0.50167224080267558,"#5B498D"],[0.50501672240802675,"#5B498D"],[0.50836120401337803,"#5B488D"],[0.51170568561872909,"#5A488D"],[0.51505016722408026,"#5A488D"],[0.51839464882943143,"#5A478D"],[0.52173913043478271,"#59478D"],[0.52508361204013376,"#59468D"],[0.52842809364548493,"#59468D"],[0.5317725752508361,"#58458D"],[0.53511705685618738,"#58458D"],[0.53846153846153855,"#58458D"],[0.5418060200668896,"#57448D"],[0.54515050167224077,"#57448D"],[0.54849498327759205,"#57438D"],[0.55183946488294322,"#56438D"],[0.55518394648829428,"#56428D"],[0.55852842809364545,"#56428D"],[0.56187290969899673,"#55428D"],[0.56521739130434789,"#55418D"],[0.56856187290969895,"#55418D"],[0.57190635451505012,"#54408D"],[0.5752508361204014,"#54408D"],[0.57859531772575257,"#543F8D"],[0.58193979933110374,"#533F8D"],[0.58528428093645479,"#533F8D"],[0.58862876254180607,"#533E8D"],[0.59197324414715724,"#523E8D"],[0.59531772575250841,"#523D8D"],[0.59866220735785947,"#513D8D"],[0.60200668896321075,"#513C8D"],[0.60535117056856191,"#513C8D"],[0.60869565217391308,"#503B8D"],[0.61204013377926425,"#503B8D"],[0.61538461538461542,"#503B8D"],[0.61872909698996659,"#4F3A8D"],[0.62207357859531776,"#4F3A8D"],[0.62541806020066892,"#4F398D"],[0.62876254180602009,"#4E398D"],[0.63210702341137126,"#4E388D"],[0.63545150501672243,"#4D388D"],[0.6387959866220736,"#4D388D"],[0.64214046822742477,"#4D378D"],[0.64548494983277593,"#4C378D"],[0.6488294314381271,"#4C368D"],[0.65217391304347827,"#4B368D"],[0.65551839464882944,"#4B358D"],[0.65886287625418061,"#4B358D"],[0.66220735785953178,"#4A348D"],[0.66555183946488294,"#4A348D"],[0.66889632107023411,"#4A348D"],[0.67224080267558528,"#49338D"],[0.67558528428093645,"#49338D"],[0.67892976588628762,"#48328D"],[0.68227424749163879,"#48328C"],[0.68561872909699006,"#48318C"],[0.68896321070234112,"#47318C"],[0.69230769230769229,"#47318C"],[0.69565217391304346,"#46308C"],[0.69899665551839474,"#46308C"],[0.7023411371237458,"#452F8C"],[0.70568561872909696,"#452F8C"],[0.70903010033444813,"#452E8C"],[0.71237458193979941,"#442E8C"],[0.71571906354515058,"#442D8C"],[0.71906354515050164,"#432D8C"],[0.72240802675585281,"#432D8C"],[0.72575250836120409,"#422C8C"],[0.72909698996655525,"#422C8C"],[0.73244147157190631,"#422B8C"],[0.73578595317725748,"#412B8C"],[0.73913043478260876,"#412A8C"],[0.74247491638795993,"#402A8C"],[0.74581939799331098,"#40298C"],[0.74916387959866215,"#3F298C"],[0.75250836120401343,"#3F288C"],[0.7558528428093646,"#3E288C"],[0.75919732441471577,"#3E288C"],[0.76254180602006683,"#3D278C"],[0.76588628762541811,"#3D278C"],[0.76923076923076927,"#3D268C"],[0.77257525083612044,"#3C268C"],[0.7759197324414715,"#3C258C"],[0.77926421404682289,"#3B258C"],[0.78260869565217406,"#3B248C"],[0.78595317725752523,"#3A248C"],[0.78929765886287639,"#3A238C"],[0.79264214046822745,"#39238C"],[0.79598662207357862,"#39228C"],[0.79933110367892979,"#38228C"],[0.80267558528428096,"#38228C"],[0.80602006688963201,"#37218C"],[0.80936454849498318,"#36218C"],[0.81270903010033435,"#36208C"],[0.81605351170568552,"#35208C"],[0.8193979933110368,"#351F8C"],[0.82274247491638797,"#341F8C"],[0.82608695652173914,"#341E8C"],[0.8294314381270903,"#331E8C"],[0.83277591973244158,"#331D8C"],[0.83612040133779275,"#321D8C"],[0.83946488294314392,"#321C8C"],[0.84280936454849509,"#311C8C"],[0.84615384615384626,"#301B8C"],[0.84949832775919731,"#301B8C"],[0.85284280936454848,"#2F1A8C"],[0.85618729096989965,"#2F1A8C"],[0.85953177257525093,"#2E198C"],[0.8628762541806021,"#2D198C"],[0.86622073578595304,"#2D188C"],[0.86956521739130421,"#2C188C"],[0.87290969899665549,"#2B178C"],[0.87625418060200666,"#2B178C"],[0.87959866220735783,"#2A168C"],[0.882943143812709,"#29168C"],[0.88628762541806028,"#29158C"],[0.88963210702341144,"#28158C"],[0.89297658862876261,"#27148C"],[0.89632107023411378,"#27138C"],[0.89966555183946495,"#26138C"],[0.90301003344481601,"#25128C"],[0.90635451505016718,"#24128C"],[0.90969899665551834,"#24118C"],[0.91304347826086962,"#23118C"],[0.91638795986622079,"#22108B"],[0.91973244147157196,"#210F8B"],[0.92307692307692313,"#200F8B"],[0.9264214046822743,"#1F0E8B"],[0.92976588628762558,"#1F0D8B"],[0.93311036789297652,"#1E0D8B"],[0.93645484949832769,"#1D0C8B"],[0.93979933110367897,"#1C0C8B"],[0.94314381270903014,"#1B0B8B"],[0.94648829431438131,"#1A0A8B"],[0.94983277591973247,"#19098B"],[0.95317725752508364,"#17098B"],[0.95652173913043492,"#16088B"],[0.95986622073578587,"#15078B"],[0.96321070234113704,"#14078B"],[0.96655518394648832,"#13068B"],[0.96989966555183948,"#11058B"],[0.97324414715719065,"#10058B"],[0.97658862876254182,"#0E048B"],[0.97993311036789299,"#0C038B"],[0.98327759197324427,"#0A038B"],[0.98662207357859544,"#08028B"],[0.98996655518394638,"#06028B"],[0.99331103678929766,"#04018B"],[0.99665551839464883,"#02018B"],[1,"#00008B"]],"colorbar":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"thickness":23.039999999999996,"title":"Activity<br />types","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["2","4","6","8","10"],"tickvals":[0.11240740740740739,0.33388888888888885,0.5553703703703704,0.77685185185185179,0.99833333333333329],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":10.62681610626816},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":42.927592954990217,"r":7.3059360730593621,"b":62.554625207160115,"l":66.484018264840202},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Beneficiaries reached by municipality","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342468},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,20.600000000000001],"tickmode":"array","ticktext":["Amazonas","Anzoategui","Apure","Barinas","Bolivar","Carabobo","Delta Amacuro","Distrito Capital","Falcon","La Guaira","Lara","Merida","Miranda","Monagas","Portuguesa","Sucre","Tachira","Trujillo","Zulia"],"tickvals":[1,2,3,4.0000000000000009,5,6.0000000000000009,7,8,9,10,11,12.000000000000002,13,14.000000000000002,15,16,17,18,19],"categoryorder":"array","categoryarray":["Amazonas","Anzoategui","Apure","Barinas","Bolivar","Carabobo","Delta Amacuro","Distrito Capital","Falcon","La Guaira","Lara","Merida","Miranda","Monagas","Portuguesa","Sucre","Tachira","Trujillo","Zulia"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.38687805288515253,5.1208806986269702],"tickmode":"array","ticktext":["10","100","1,000","10,000","100,000"],"tickvals":[1,1.9999999999999998,3,4,5],"categoryorder":"array","categoryarray":["10","100","1,000","10,000","100,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"Beneficiaries","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":10.62681610626816},"title":{"text":"Activity<br />types<br />beneficiaries","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"source":"A","attrs":{"1e4859997be0":{"x":{},"y":{},"text":{},"colour":{},"size":{},"type":"scatter"}},"cur_data":"1e4859997be0","visdat":{"1e4859997be0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<blockquote class="blockquote">
<p>From the plot above, we observe that the Education response is largely centred around major urban centres.</p>
</blockquote>
<p>Out of curiosity, let us perform a few additional checks:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidyverse pipe needed here</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(beneficiaries <span class="sc">~</span> population2019, <span class="at">data =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = beneficiaries ~ population2019, data = .)

Residuals:
   Min     1Q Median     3Q    Max 
-25124  -2893  -1136   2913  36240 

Coefficients:
                 Estimate Std. Error t value            Pr(&gt;|t|)    
(Intercept)    582.569744 798.233409    0.73               0.467    
population2019   0.031400   0.002206   14.23 &lt;0.0000000000000002 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7031 on 107 degrees of freedom
  (226 observations deleted due to missingness)
Multiple R-squared:  0.6544,    Adjusted R-squared:  0.6512 
F-statistic: 202.6 on 1 and 107 DF,  p-value: &lt; 0.00000000000000022</code></pre>
</div>
</div>
<p>Population size is a very large predictor of beneficiary allocations. But neither the percentage of the population below the poverty line is not a a good predictor of coverage (the percentage of a municipality’s population has been reached). But the percentage of the population who live in urban areas is very slightly correlated with coverage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(coverage_percent <span class="sc">~</span> percent_poor, <span class="at">data =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = coverage_percent ~ percent_poor, data = .)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.25161 -0.16200 -0.09463  0.07816  0.67506 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)   0.12104    0.07452   1.624    0.107
percent_poor  0.17775    0.16504   1.077    0.284

Residual standard error: 0.2228 on 107 degrees of freedom
  (226 observations deleted due to missingness)
Multiple R-squared:  0.01072,   Adjusted R-squared:  0.001478 
F-statistic:  1.16 on 1 and 107 DF,  p-value: 0.2839</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(coverage_percent <span class="sc">~</span> percent_urban, <span class="at">data =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = coverage_percent ~ percent_urban, data = .)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.28994 -0.15210 -0.09058  0.09590  0.64618 

Coefficients:
              Estimate Std. Error t value  Pr(&gt;|t|)    
(Intercept)    0.32718    0.08069   4.055 0.0000955 ***
percent_urban -0.15979    0.09626  -1.660    0.0999 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2211 on 107 degrees of freedom
  (226 observations deleted due to missingness)
Multiple R-squared:  0.0251,    Adjusted R-squared:  0.01599 
F-statistic: 2.755 on 1 and 107 DF,  p-value: 0.09986</code></pre>
</div>
</div>
<p>These are just some quick checks. We would typically be more thorough in a <a href="https://seanywng.github.io/coverage_gaps_venezuela/">Coverage and Gap Analysis</a>. But knowing this helps us structure the next few sections.</p>
<p><br><br><br></p>
</section>
<section id="d.-top-10-municipalities-by-reach-and-coverage" class="level3">
<h3 class="anchored" data-anchor-id="d.-top-10-municipalities-by-reach-and-coverage">4d. Top 10 municipalities by reach and coverage</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># top municipalities table</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>top_mun <span class="ot">&lt;-</span> all_mun <span class="sc">|&gt;</span>  <span class="fu">select</span>(state, municipality, beneficiaries) <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">beneficiaries =</span> <span class="fu">format</span>(beneficiaries, <span class="at">big.mark =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># try to make a table of the most oversubscribed municipalities</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>top_cov <span class="ot">&lt;-</span> all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">coverage_percent =</span> <span class="fu">round</span>(coverage_percent <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(coverage_percent)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, municipality, coverage_percent) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># two tables side by side</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_mun, <span class="at">caption =</span> <span class="st">"by beneficiaries"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"bordered"</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>, </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="st">"float_left"</span>, <span class="at">font_size =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-bordered table-sm table-striped small" data-quarto-postprocess="true">
<caption>by beneficiaries</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">state</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">municipality</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">beneficiaries</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Distrito Capital</td>
<td style="text-align: left;">Libertador</td>
<td style="text-align: left;">80,482</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miranda</td>
<td style="text-align: left;">Sucre</td>
<td style="text-align: left;">59,176</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zulia</td>
<td style="text-align: left;">Maracaibo</td>
<td style="text-align: left;">55,370</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bolivar</td>
<td style="text-align: left;">Caroni</td>
<td style="text-align: left;">37,908</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zulia</td>
<td style="text-align: left;">San Francisco</td>
<td style="text-align: left;">29,369</td>
</tr>
<tr class="even">
<td style="text-align: left;">Amazonas</td>
<td style="text-align: left;">Atures</td>
<td style="text-align: left;">22,430</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lara</td>
<td style="text-align: left;">Iribarren</td>
<td style="text-align: left;">21,977</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bolivar</td>
<td style="text-align: left;">Heres</td>
<td style="text-align: left;">18,293</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Delta Amacuro</td>
<td style="text-align: left;">Tucupita</td>
<td style="text-align: left;">17,953</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bolivar</td>
<td style="text-align: left;">Cedeno</td>
<td style="text-align: left;">15,681</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_cov, <span class="at">caption =</span> <span class="st">"by coverage"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"bordered"</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="st">"left"</span>, <span class="at">font_size =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-bordered table-sm table-striped small" data-quarto-postprocess="true">
<caption>by coverage</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">state</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">municipality</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">coverage_percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Fernandez Feo</td>
<td style="text-align: right;">87.27</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zulia</td>
<td style="text-align: left;">Machiques De Perija</td>
<td style="text-align: right;">79.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Ayacucho</td>
<td style="text-align: right;">78.61</td>
</tr>
<tr class="even">
<td style="text-align: left;">Amazonas</td>
<td style="text-align: left;">Autonomo Autana</td>
<td style="text-align: right;">75.65</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Samuel Dario Maldonado</td>
<td style="text-align: right;">74.58</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Panamericano</td>
<td style="text-align: right;">72.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Miranda</td>
<td style="text-align: left;">Plaza</td>
<td style="text-align: right;">67.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Independencia</td>
<td style="text-align: right;">67.64</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tachira</td>
<td style="text-align: left;">Junin</td>
<td style="text-align: right;">64.77</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miranda</td>
<td style="text-align: left;">El Hatillo</td>
<td style="text-align: right;">63.96</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sum of top ten</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>top_mun_sum <span class="ot">&lt;-</span> all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">sum</span>(beneficiaries, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">population2019 =</span> <span class="fu">sum</span>(population2019))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>all_mun_sum <span class="ot">&lt;-</span> all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">sum</span>(beneficiaries, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">population2019 =</span> <span class="fu">sum</span>(population2019))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>Together, the 10 municipalities with the highest reach (above left) form <strong>49%</strong> of the <strong>728,408</strong> beneficiaries reached, whilst only forming <strong>25%</strong> of the country’s population, indicating a skew towards more populated and more easily accesile areas.</p>
</blockquote>
<blockquote class="blockquote">
<p>The average coverage of the school-age population in the municipalities where UNICEF is present is <strong>0%</strong>. Coverage refers to the percentage of enrolled children (aged 3-17 years) reached by UNICEF.</p>
</blockquote>
<blockquote class="blockquote">
<p>We have reached 10% or less of the population in <strong>109</strong> out of the <strong>110</strong> in which we operate. This is in addition to the <strong>226</strong> where no UNICEF Education activities have occurred.</p>
</blockquote>
<p><br><br><br></p>
</section>
</section>
<section id="partners" class="level2">
<h2 class="anchored" data-anchor-id="partners">5. Partners</h2>
<section id="a.-summary-by-partner" class="level3">
<h3 class="anchored" data-anchor-id="a.-summary-by-partner">5a. Summary by partner</h3>
<p><em>mouse over for details</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for the totals per partner shows in the geom_text below</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>stack_text <span class="ot">&lt;-</span> act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(implementing_partner) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(beneficiaries)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># vector for ordering of x-axis (partners)</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>ord_soc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"UNICEF"</span>, <span class="st">"SOCIO 1"</span>, <span class="st">"SOCIO 2"</span>, <span class="st">"SOCIO 4"</span>, <span class="st">"SOCIO 5"</span>, <span class="st">"SOCIO 7"</span>, <span class="st">"SOCIO 8"</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"SOCIO 3"</span>, <span class="st">"SOCIO 10"</span>, <span class="st">"SOCIO 6"</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># creating the plot</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>soc_stack <span class="ot">&lt;-</span> act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(activity_short, implementing_partner) <span class="sc">%&gt;%</span> </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">beneficiaries =</span> <span class="fu">round</span>(<span class="fu">sum</span>(beneficiaries)), </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> implementing_partner, </span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> beneficiaries)) <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> activity_short)) <span class="sc">+</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, <span class="at">scale =</span> <span class="fl">1e-3</span>, <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">400000</span>)) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Breakdown by partner and activity"</span>) <span class="sc">+</span> </span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"cm"</span>),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Activity"</span>) <span class="sc">+</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> stack_text, <span class="fu">aes</span>(<span class="at">y =</span> total <span class="sc">+</span> <span class="dv">6000</span>, <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(total)), </span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> ord_soc)</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(soc_stack, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"fill"</span>, <span class="st">"text"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"activity"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-2e1f34232aa26f01467d" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-2e1f34232aa26f01467d">{"x":{"data":[{"orientation":"v","width":[0.90000000000000013,0.89999999999999947,0.90000000000000036],"base":[203045,2647,127792],"x":[2,8,4],"y":[39,10,3820],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.01_school_reintegration","implementing_partner: SOCIO 3<br />activity_short: 1.01_school_reintegration","implementing_partner: SOCIO 4<br />activity_short: 1.01_school_reintegration"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.01_school_reintegration","legendgroup":"1.01_school_reintegration","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999991],"base":[203016,188321,351585],"x":[2,3,1],"y":[29,11531,2456],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.02_leveling_capacitation","implementing_partner: SOCIO 2<br />activity_short: 1.02_leveling_capacitation","implementing_partner: UNICEF<br />activity_short: 1.02_leveling_capacitation"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.02_leveling_capacitation","legendgroup":"1.02_leveling_capacitation","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999991],"base":[170747,152150,114865,98737,0,7958],"x":[2,3,4,5,7,1],"y":[32269,36171,12927,17103,29471,343627],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.03_school_kits","implementing_partner: SOCIO 2<br />activity_short: 1.03_school_kits","implementing_partner: SOCIO 4<br />activity_short: 1.03_school_kits","implementing_partner: SOCIO 5<br />activity_short: 1.03_school_kits","implementing_partner: SOCIO 8<br />activity_short: 1.03_school_kits","implementing_partner: UNICEF<br />activity_short: 1.03_school_kits"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.03_school_kits","legendgroup":"1.03_school_kits","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999991],"base":[0,134974,69076,41670,232,5301],"x":[9,3,4,5,6,1],"y":[2461,17176,45789,57067,31322,2657],"text":["implementing_partner: SOCIO 10<br />activity_short: 1.04_school_feeding","implementing_partner: SOCIO 2<br />activity_short: 1.04_school_feeding","implementing_partner: SOCIO 4<br />activity_short: 1.04_school_feeding","implementing_partner: SOCIO 5<br />activity_short: 1.04_school_feeding","implementing_partner: SOCIO 7<br />activity_short: 1.04_school_feeding","implementing_partner: UNICEF<br />activity_short: 1.04_school_feeding"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.04_school_feeding","legendgroup":"1.04_school_feeding","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999991],"base":[127923,81119,2413,23538,39675,0,5204],"x":[2,3,8,4,5,6,1],"y":[42824,53855,234,45538,1995,232,97],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.05_promotion_key_messages","implementing_partner: SOCIO 2<br />activity_short: 1.05_promotion_key_messages","implementing_partner: SOCIO 3<br />activity_short: 1.05_promotion_key_messages","implementing_partner: SOCIO 4<br />activity_short: 1.05_promotion_key_messages","implementing_partner: SOCIO 5<br />activity_short: 1.05_promotion_key_messages","implementing_partner: SOCIO 7<br />activity_short: 1.05_promotion_key_messages","implementing_partner: UNICEF<br />activity_short: 1.05_promotion_key_messages"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.05_promotion_key_messages","legendgroup":"1.05_promotion_key_messages","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.90000000000000036],"base":[112547,26624,87,10417,4106],"x":[2,3,8,4,5],"y":[15376,54495,2326,13121,35569],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.06_psychosocial_support","implementing_partner: SOCIO 2<br />activity_short: 1.06_psychosocial_support","implementing_partner: SOCIO 3<br />activity_short: 1.06_psychosocial_support","implementing_partner: SOCIO 4<br />activity_short: 1.06_psychosocial_support","implementing_partner: SOCIO 5<br />activity_short: 1.06_psychosocial_support"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.06_psychosocial_support","legendgroup":"1.06_psychosocial_support","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036],"base":[112528,22326],"x":[2,3],"y":[19,4298],"text":["implementing_partner: SOCIO 1<br />activity_short: 1.07_recreational_activities","implementing_partner: SOCIO 2<br />activity_short: 1.07_recreational_activities"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1.07_recreational_activities","legendgroup":"1.07_recreational_activities","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036],"base":[5775,6073,1165],"x":[2,3,4],"y":[106753,16253,9252],"text":["implementing_partner: SOCIO 1<br />activity_short: 2.08_distance education","implementing_partner: SOCIO 2<br />activity_short: 2.08_distance education","implementing_partner: SOCIO 4<br />activity_short: 2.08_distance education"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2.08_distance education","legendgroup":"2.08_distance education","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999991],"base":[0,3014,0,686,1995,28,21],"x":[2,3,8,4,5,10,1],"y":[5775,3059,87,479,2111,544,5183],"text":["implementing_partner: SOCIO 1<br />activity_short: 2.09_teacher_training","implementing_partner: SOCIO 2<br />activity_short: 2.09_teacher_training","implementing_partner: SOCIO 3<br />activity_short: 2.09_teacher_training","implementing_partner: SOCIO 4<br />activity_short: 2.09_teacher_training","implementing_partner: SOCIO 5<br />activity_short: 2.09_teacher_training","implementing_partner: SOCIO 6<br />activity_short: 2.09_teacher_training","implementing_partner: UNICEF<br />activity_short: 2.09_teacher_training"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2.09_teacher_training","legendgroup":"2.09_teacher_training","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999991],"base":[0,0,0,0,0],"x":[3,4,5,10,1],"y":[3014,686,1995,28,21],"text":["implementing_partner: SOCIO 2<br />activity_short: 2.10_teacher_scholarships","implementing_partner: SOCIO 4<br />activity_short: 2.10_teacher_scholarships","implementing_partner: SOCIO 5<br />activity_short: 2.10_teacher_scholarships","implementing_partner: SOCIO 6<br />activity_short: 2.10_teacher_scholarships","implementing_partner: UNICEF<br />activity_short: 2.10_teacher_scholarships"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2.10_teacher_scholarships","legendgroup":"2.10_teacher_scholarships","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10],"y":[360041.38,209083.62520000001,205852,137612,121840,37554,35471,8657,8461,6572],"text":["354,041","203,084","199,852","131,612","115,840","31,554","29,471","2,657","2,461","572"],"hovertext":["implementing_partner: UNICEF","implementing_partner: SOCIO 1","implementing_partner: SOCIO 2","implementing_partner: SOCIO 4","implementing_partner: SOCIO 5","implementing_partner: SOCIO 7","implementing_partner: SOCIO 8","implementing_partner: SOCIO 3","implementing_partner: SOCIO 10","implementing_partner: SOCIO 6"],"textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":42.927592954990217,"r":7.3059360730593621,"b":38.365276065624471,"l":48.949771689497723},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Breakdown by partner and activity","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342468},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,10.6],"tickmode":"array","ticktext":["UNICEF","SOCIO 1","SOCIO 2","SOCIO 4","SOCIO 5","SOCIO 7","SOCIO 8","SOCIO 3","SOCIO 10","SOCIO 6"],"tickvals":[1,2,3,4,5,6.0000000000000009,7,8,9,10],"categoryorder":"array","categoryarray":["UNICEF","SOCIO 1","SOCIO 2","SOCIO 4","SOCIO 5","SOCIO 7","SOCIO 8","SOCIO 3","SOCIO 10","SOCIO 6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-20000,420000],"tickmode":"array","ticktext":["0K","100K","200K","300K","400K"],"tickvals":[0,99999.999999999985,200000,300000,400000],"categoryorder":"array","categoryarray":["0K","100K","200K","300K","400K"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"Beneficiaries","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":6},"title":{"text":"activity","font":{"color":"rgba(0,0,0,1)","family":"","size":10.62681610626816}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"source":"A","attrs":{"1e48790cee":{"x":{},"y":{},"fill":{},"type":"bar"},"1e488337f11":{"x":{},"y":{},"label":{}}},"cur_data":"1e48790cee","visdat":{"1e48790cee":["function (y) ","x"],"1e488337f11":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br><br></p>
</section>
<section id="b.-number-of-activity-types-implemented-by-each-partner" class="level3">
<h3 class="anchored" data-anchor-id="b.-number-of-activity-types-implemented-by-each-partner">5b. Number of activity types implemented by each partner</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">implementing_partner =</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_replace_all</span>(implementing_partner, </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"UNICEF - Fondo de las Naciones Unidas para la Infancia"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"UNICEF"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">partner =</span> implementing_partner) <span class="sc">%&gt;%</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(partner) <span class="sc">%&gt;%</span> </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">act_types =</span> <span class="fu">n_distinct</span>(activity_code)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(act_types)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Number of activity types per partner"</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">font_size =</span> <span class="dv">12</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<caption>Number of activity types per partner</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">partner</td>
<td style="text-align: left;">SOCIO 2</td>
<td style="text-align: left;">SOCIO 1</td>
<td style="text-align: left;">SOCIO 4</td>
<td style="text-align: left;">SOCIO 5</td>
<td style="text-align: left;">UNICEF</td>
<td style="text-align: left;">SOCIO 3</td>
<td style="text-align: left;">SOCIO 6</td>
<td style="text-align: left;">SOCIO 7</td>
<td style="text-align: left;">SOCIO 10</td>
<td style="text-align: left;">SOCIO 8</td>
</tr>
<tr class="even">
<td style="text-align: left;">act_types</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p><br><br></p>
</section>
<section id="c.-partners-progress-over-time" class="level3">
<h3 class="anchored" data-anchor-id="c.-partners-progress-over-time">5c. Partners’ progress over time</h3>
<p><em>mouse over for details</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>soc_line <span class="ot">&lt;-</span> act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_reported =</span> <span class="fu">as.Date</span>(month_reported)) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(implementing_partner, month_reported) <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cumulative =</span> <span class="fu">round</span>(<span class="fu">sum</span>(beneficiaries))) <span class="sc">|&gt;</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative =</span> <span class="fu">cumsum</span>(cumulative)) <span class="sc">|&gt;</span> </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> month_reported, <span class="at">y =</span> cumulative, </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> implementing_partner, </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Partner: "</span>, implementing_partner, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Month: "</span>, <span class="fu">month</span>(month_reported, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Beneficiaries: "</span>, cumulative</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>             ), </span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">group =</span> implementing_partner)) <span class="sc">+</span> </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">"%b"</span>, <span class="at">date_breaks =</span> <span class="st">"1 month"</span>) <span class="sc">+</span> </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"K"</span>, <span class="at">scale =</span> <span class="fl">1e-3</span>, <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">410000</span>)) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>() <span class="sc">+</span> </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_colour_brewer(palette = "Set3") +</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Beneficiaries"</span>, </span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>       <span class="st">"Progress by partner over time"</span>) <span class="sc">+</span> </span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>))</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(soc_line, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Partner"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-c954980a3827d0d08099" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-c954980a3827d0d08099">{"x":{"data":[{"x":[18292,18321,18352,18382,18413,18535,18566,18596],"y":[18040,42098,74136,76713,93806,103732,121759,203084],"text":["Partner: SOCIO 1<br />Month: Jan<br />Beneficiaries: 18040","Partner: SOCIO 1<br />Month: Feb<br />Beneficiaries: 42098","Partner: SOCIO 1<br />Month: Mar<br />Beneficiaries: 74136","Partner: SOCIO 1<br />Month: Apr<br />Beneficiaries: 76713","Partner: SOCIO 1<br />Month: May<br />Beneficiaries: 93806","Partner: SOCIO 1<br />Month: Sep<br />Beneficiaries: 103732","Partner: SOCIO 1<br />Month: Oct<br />Beneficiaries: 121759","Partner: SOCIO 1<br />Month: Nov<br />Beneficiaries: 203084"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(68,1,84,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 1","legendgroup":"SOCIO 1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(68,1,84,1)"}},"frame":null},{"x":[18505,18535],"y":[1491,2461],"text":["Partner: SOCIO 10<br />Month: Aug<br />Beneficiaries: 1491","Partner: SOCIO 10<br />Month: Sep<br />Beneficiaries: 2461"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(72,40,120,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 10","legendgroup":"SOCIO 10","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(72,40,120,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(72,40,120,1)"}},"frame":null},{"x":[18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596],"y":[234,12152,32292,59885,72480,102222,121944,144334,154494,191076,199852],"text":["Partner: SOCIO 2<br />Month: Jan<br />Beneficiaries: 234","Partner: SOCIO 2<br />Month: Feb<br />Beneficiaries: 12152","Partner: SOCIO 2<br />Month: Mar<br />Beneficiaries: 32292","Partner: SOCIO 2<br />Month: Apr<br />Beneficiaries: 59885","Partner: SOCIO 2<br />Month: May<br />Beneficiaries: 72480","Partner: SOCIO 2<br />Month: Jun<br />Beneficiaries: 102222","Partner: SOCIO 2<br />Month: Jul<br />Beneficiaries: 121944","Partner: SOCIO 2<br />Month: Aug<br />Beneficiaries: 144334","Partner: SOCIO 2<br />Month: Sep<br />Beneficiaries: 154494","Partner: SOCIO 2<br />Month: Oct<br />Beneficiaries: 191076","Partner: SOCIO 2<br />Month: Nov<br />Beneficiaries: 199852"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(62,74,137,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 2","legendgroup":"SOCIO 2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(62,74,137,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(62,74,137,1)"}},"frame":null},{"x":[18292,18321],"y":[1348,2657],"text":["Partner: SOCIO 3<br />Month: Jan<br />Beneficiaries: 1348","Partner: SOCIO 3<br />Month: Feb<br />Beneficiaries: 2657"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(49,104,142,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 3","legendgroup":"SOCIO 3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(49,104,142,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(49,104,142,1)"}},"frame":null},{"x":[18321,18352,18382,18413,18443,18474,18505,18535,18596],"y":[27,8867,33004,41840,98385,112909,114458,124945,131612],"text":["Partner: SOCIO 4<br />Month: Feb<br />Beneficiaries: 27","Partner: SOCIO 4<br />Month: Mar<br />Beneficiaries: 8867","Partner: SOCIO 4<br />Month: Apr<br />Beneficiaries: 33004","Partner: SOCIO 4<br />Month: May<br />Beneficiaries: 41840","Partner: SOCIO 4<br />Month: Jun<br />Beneficiaries: 98385","Partner: SOCIO 4<br />Month: Jul<br />Beneficiaries: 112909","Partner: SOCIO 4<br />Month: Aug<br />Beneficiaries: 114458","Partner: SOCIO 4<br />Month: Sep<br />Beneficiaries: 124945","Partner: SOCIO 4<br />Month: Nov<br />Beneficiaries: 131612"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(38,130,142,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 4","legendgroup":"SOCIO 4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(38,130,142,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(38,130,142,1)"}},"frame":null},{"x":[18321,18352,18382,18413,18443,18474,18535],"y":[8951,9955,25997,65957,73747,111494,115840],"text":["Partner: SOCIO 5<br />Month: Feb<br />Beneficiaries: 8951","Partner: SOCIO 5<br />Month: Mar<br />Beneficiaries: 9955","Partner: SOCIO 5<br />Month: Apr<br />Beneficiaries: 25997","Partner: SOCIO 5<br />Month: May<br />Beneficiaries: 65957","Partner: SOCIO 5<br />Month: Jun<br />Beneficiaries: 73747","Partner: SOCIO 5<br />Month: Jul<br />Beneficiaries: 111494","Partner: SOCIO 5<br />Month: Sep<br />Beneficiaries: 115840"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(31,158,137,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 5","legendgroup":"SOCIO 5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(31,158,137,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,158,137,1)"}},"frame":null},{"x":[18596],"y":[572],"text":"Partner: SOCIO 6<br />Month: Nov<br />Beneficiaries: 572","type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(53,183,121,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 6","legendgroup":"SOCIO 6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(53,183,121,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(53,183,121,1)"}},"frame":null},{"x":[18566,18596],"y":[31090,31554],"text":["Partner: SOCIO 7<br />Month: Oct<br />Beneficiaries: 31090","Partner: SOCIO 7<br />Month: Nov<br />Beneficiaries: 31554"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(109,205,89,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 7","legendgroup":"SOCIO 7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(109,205,89,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(109,205,89,1)"}},"frame":null},{"x":[18596],"y":[29471],"text":"Partner: SOCIO 8<br />Month: Nov<br />Beneficiaries: 29471","type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(180,222,44,1)","dash":"solid"},"hoveron":"points","name":"SOCIO 8","legendgroup":"SOCIO 8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(180,222,44,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(180,222,44,1)"}},"frame":null},{"x":[18292,18321,18352,18474,18535,18566,18596],"y":[45676,89772,104896,105463,107072,258698,354041],"text":["Partner: UNICEF<br />Month: Jan<br />Beneficiaries: 45676","Partner: UNICEF<br />Month: Feb<br />Beneficiaries: 89772","Partner: UNICEF<br />Month: Mar<br />Beneficiaries: 104896","Partner: UNICEF<br />Month: Jul<br />Beneficiaries: 105463","Partner: UNICEF<br />Month: Sep<br />Beneficiaries: 107072","Partner: UNICEF<br />Month: Oct<br />Beneficiaries: 258698","Partner: UNICEF<br />Month: Nov<br />Beneficiaries: 354041"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(253,231,37,1)","dash":"solid"},"hoveron":"points","name":"UNICEF","legendgroup":"UNICEF","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","opacity":1,"size":2.6456692913385824,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(253,231,37,1)"}},"frame":null}],"layout":{"margin":{"t":25.393346379647749,"r":7.3059360730593621,"b":24.735812133072411,"l":48.949771689497723},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18276.799999999999,18611.200000000001],"tickmode":"array","ticktext":["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"tickvals":[18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597],"categoryorder":"array","categoryarray":["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-20500,430500],"tickmode":"array","ticktext":["0K","100K","200K","300K","400K"],"tickvals":[0,100000.00000000001,200000,300000,400000],"categoryorder":"array","categoryarray":["0K","100K","200K","300K","400K"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"Beneficiaries","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":7.9701120797011216},"title":{"text":"Partner","font":{"color":"rgba(0,0,0,1)","family":"","size":10.62681610626816}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"source":"A","attrs":{"1e4876b8693":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"1e48521e4c55":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"1e4876b8693","visdat":{"1e4876b8693":["function (y) ","x"],"1e48521e4c55":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br><br></p>
</section>
<section id="d.-summary-table-of-partners-achievements" class="level3">
<h3 class="anchored" data-anchor-id="d.-summary-table-of-partners-achievements">5d. Summary table of partners’ achievements</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>act_ben <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex_ben =</span> <span class="fu">case_when</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"^m"</span>) <span class="sc">~</span> <span class="st">"male"</span>, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(disaggregation, <span class="st">"^f"</span>) <span class="sc">~</span> <span class="st">"female"</span>, </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"not_specified"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(implementing_partner) <span class="sc">|&gt;</span> </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">male =</span> <span class="fu">sum</span>(beneficiaries[sex_ben <span class="sc">==</span> <span class="st">"male"</span>]),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">female =</span> <span class="fu">sum</span>(beneficiaries[sex_ben <span class="sc">==</span> <span class="st">"female"</span>]), </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">sex_ratio =</span> <span class="fu">round</span>(male <span class="sc">/</span> female, <span class="at">digits =</span> <span class="dv">2</span>), </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">beneficiaries =</span> <span class="fu">sum</span>(beneficiaries, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">%_total</span><span class="st">`</span> <span class="ot">=</span> </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">round</span>(beneficiaries <span class="sc">/</span> <span class="fu">sum</span>(beneficiaries) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(act_ben <span class="sc">|&gt;</span> </span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">implementing_partner =</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">str_replace_all</span>(</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>                    implementing_partner,</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"UNICEF - Fondo de las Naciones Unidas para la Infancia"</span>,</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"UNICEF"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(implementing_partner) <span class="sc">|&gt;</span> </span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(<span class="at">municipalities =</span> <span class="fu">n_distinct</span>(pcode2)), </span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"implementing_partner"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"beneficiaries"</span>), </span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> <span class="fu">format</span>(<span class="fu">round</span>(.), <span class="at">big.mark =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(beneficiaries, <span class="at">.after =</span> implementing_partner) <span class="sc">|&gt;</span> </span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">`</span><span class="at">%_total</span><span class="st">`</span>, <span class="at">.after =</span> beneficiaries) <span class="sc">|&gt;</span> </span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(beneficiaries)) <span class="sc">|&gt;</span> </span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Summary of partners' coverage"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), </span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">font_size =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<caption>Summary of partners' coverage</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">implementing_partner</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">beneficiaries</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%_total</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">male</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">female</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sex_ratio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">municipalities</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">UNICEF</td>
<td style="text-align: left;">354,041</td>
<td style="text-align: right;">33.05</td>
<td style="text-align: left;">168,297</td>
<td style="text-align: left;">185,745</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">74</td>
</tr>
<tr class="even">
<td style="text-align: left;">SOCIO 1</td>
<td style="text-align: left;">203,084</td>
<td style="text-align: right;">18.96</td>
<td style="text-align: left;">100,494</td>
<td style="text-align: left;">102,589</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">56</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOCIO 2</td>
<td style="text-align: left;">199,852</td>
<td style="text-align: right;">18.66</td>
<td style="text-align: left;">86,925</td>
<td style="text-align: left;">112,683</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">51</td>
</tr>
<tr class="even">
<td style="text-align: left;">SOCIO 4</td>
<td style="text-align: left;">131,612</td>
<td style="text-align: right;">12.29</td>
<td style="text-align: left;">63,964</td>
<td style="text-align: left;">67,648</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOCIO 5</td>
<td style="text-align: left;">115,840</td>
<td style="text-align: right;">10.81</td>
<td style="text-align: left;">50,906</td>
<td style="text-align: left;">64,934</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">SOCIO 7</td>
<td style="text-align: left;">31,554</td>
<td style="text-align: right;">2.95</td>
<td style="text-align: left;">14,819</td>
<td style="text-align: left;">16,735</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOCIO 8</td>
<td style="text-align: left;">29,471</td>
<td style="text-align: right;">2.75</td>
<td style="text-align: left;">15,379</td>
<td style="text-align: left;">14,092</td>
<td style="text-align: right;">1.09</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="even">
<td style="text-align: left;">SOCIO 3</td>
<td style="text-align: left;">2,657</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: left;">909</td>
<td style="text-align: left;">1,748</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOCIO 10</td>
<td style="text-align: left;">2,461</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: left;">1,151</td>
<td style="text-align: left;">1,310</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">SOCIO 6</td>
<td style="text-align: left;">572</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">23</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">7</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p><br><br><br></p>
</section>
</section>
<section id="maps-and-reference-table" class="level2">
<h2 class="anchored" data-anchor-id="maps-and-reference-table">6. Maps and reference table</h2>
<p><br></p>
<section id="a.-maps-at-municipal-level" class="level3">
<h3 class="anchored" data-anchor-id="a.-maps-at-municipal-level">6a. Maps at municipal level</h3>
<p>Here we generate two maps for a side-by-side plot. The first showing the scale of the response (number of beneficiaries reached) and the second, the coverage.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading in shapefile</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># quiet = TRUE is very important here</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>pcode2_shape <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"./vnz_adm2_shapefiles/ven_admbnda_adm2_20180502.shp"</span>, </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">quiet =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">pcode1 =</span> ADM1_PCODE,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">pcode2 =</span> ADM2_PCODE)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># I think plotly's selector tool is not very good -- so no interactive map</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot for beneficiaries reached by pcode2</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(pcode2_shape, <span class="at">by =</span> <span class="st">"pcode2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> beneficiaries)) <span class="sc">+</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of beneficiaries reached by municipality"</span>) <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">trans =</span> <span class="fu">trans_reverser</span>(<span class="st">"log"</span>), <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">80482</span>),</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> comma, <span class="at">na.value =</span> <span class="st">"gray90"</span>) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>),</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.1</span>),</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)) <span class="sc">+</span> </span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co"># map of percent of enrolled chidren covered by pcode2</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">coverage_percent =</span> <span class="fu">round</span>(coverage_percent <span class="sc">*</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(pcode2_shape) <span class="sc">%&gt;%</span> </span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> coverage_percent))<span class="sc">+</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Percent of enrolled children (3-17) reached by municipality"</span>) <span class="sc">+</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">labels =</span> comma, <span class="at">trans =</span> <span class="st">"reverse"</span>, <span class="at">na.value =</span> <span class="st">"gray90"</span>)<span class="sc">+</span></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>),</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.1</span>),</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)) <span class="sc">+</span> </span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="reporting_5w_english_files/figure-html/MAPS-mun-reached-and-percent-reached-1.png" class="img-fluid figure-img" width="912"></p>
</figure>
</div>
</div>
</div>
<p><br><br></p>
</section>
<section id="b.-reference-table-municipal-level" class="level3">
<h3 class="anchored" data-anchor-id="b.-reference-table-municipal-level">6b. Reference table – municipal level</h3>
<p>This is an interactive table with key municipal-level indicators.</p>
<blockquote class="blockquote">
<p>use <code>Cluster_present</code> to filter to municipalities where the Education Cluster operates</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># it shows 335. I bet it's Vargas again</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>all_mun <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Cluster_present =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(beneficiaries), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">num_activities =</span> activity_types) <span class="sc">|&gt;</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Cluster_present, state, municipality, </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>         beneficiaries, beneficiaries_3_17, </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>         coverage_percent, </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>         num_activities, <span class="at">population =</span> population2019, </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>         percent_urban, percent_poor) <span class="sc">|&gt;</span> </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"percent_urban"</span>, <span class="st">"percent_poor"</span>, <span class="st">"coverage_percent"</span>), </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> <span class="fu">round</span>(. <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"beneficiaries"</span>, <span class="st">"beneficiaries_3_17"</span>, </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>              <span class="st">"population"</span>), </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> <span class="fu">format</span>(., <span class="at">big.mark =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">filter =</span> <span class="st">"top"</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f9c55f8c65227112f727" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f9c55f8c65227112f727">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"logical\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;true&quot;,&quot;false&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"87.27\" data-scale=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"10\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"100\" data-scale=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"6.91\" data-max=\"94.41\" data-scale=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335"],[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],["Distrito Capital","Miranda","Zulia","Bolivar","Zulia","Amazonas","Lara","Bolivar","Delta Amacuro","Bolivar","Miranda","Tachira","Tachira","Zulia","Miranda","La Guaira","Miranda","Miranda","Zulia","Tachira","Bolivar","Miranda","Zulia","Bolivar","Merida","Apure","Miranda","Miranda","Tachira","Zulia","Merida","Miranda","Miranda","Falcon","Miranda","Miranda","Tachira","Zulia","Bolivar","Tachira","Carabobo","Tachira","Bolivar","Bolivar","Tachira","Tachira","Zulia","Lara","Falcon","Zulia","Apure","Zulia","Miranda","Sucre","Zulia","Barinas","Amazonas","Anzoategui","Tachira","Miranda","Monagas","Miranda","Miranda","Anzoategui","Zulia","Tachira","Portuguesa","Carabobo","Tachira","Miranda","Lara","Carabobo","Miranda","Monagas","Carabobo","Falcon","Tachira","Merida","Trujillo","Tachira","Amazonas","Tachira","Zulia","Falcon","Merida","Monagas","Anzoategui","Anzoategui","Miranda","Lara","Amazonas","Sucre","Delta Amacuro","Trujillo","Delta Amacuro","Zulia","Anzoategui","Amazonas","Sucre","Barinas","Tachira","Merida","Zulia","Tachira","Merida","Apure","Miranda","Miranda","Portuguesa",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["Libertador","Sucre","Maracaibo","Caroni","San Francisco","Atures","Iribarren","Heres","Tucupita","Cedeno","Urdaneta","Junin","Fernandez Feo","Mara","Plaza","Vargas","Baruta","Lander","Guajira","Ayacucho","Sifontes","Zamora","Machiques De Perija","Piar","Libertador","San Fernando","Paz Castillo","Acevedo","San Cristobal","La Canada De Urdaneta","Alberto Adriani","Independencia","Simon Bolivar","Miranda","El Hatillo","Guaicaipuro","Panamericano","Rosario De Perija","Bolivariano Angostura","Independencia","Valencia","Torbes","Gran Sabana","Sucre","Bolivar","Samuel Dario Maldonado","Cabimas","Palavecino","Carirubana","Valmore Rodriguez","Paez","Jesus Enrique Lossada","Buroz","Sucre","Lagunillas","Barinas","Autonomo Autana","Anaco","Cardenas","Pedro Gual","Maturin","Cristobal Rojas","Andres Bello","Juan Antonio Sotillo","Baralt","Michelena","Paez","Puerto Cabello","Cordoba","Paez","Torres","San Joaquin","Brion","Libertador","Guacara","Colina","Garcia De Hevia","Tovar","Valera","Pedro Maria Urena","Autonomo Atabapo","Guasimos","Antonio Jose De Sucre","Zamora","Rangel","Aguasay","Pedro Maria Freites","Simon Rodriguez","Carrizal","Moran","Autonomo Alto Orinoco","Ribero","Antonio Diaz","Bocono","Casacoima","Colon","Manuel Ezequiel Bruzual","Rio Negro","Valdez","Rojas","Libertador","Campo Elias","Miranda","Jose Maria Vargas","Caracciolo Parra Olmedo","Biruaca","Los Salias","Chacao","Guanare",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["80,482","59,176","55,370","37,908","29,369","22,430","21,977","18,293","17,953","15,681","14,035","13,495","13,350","12,882","12,730","12,455","11,306","10,628","10,613","10,544"," 9,977"," 9,654"," 9,550"," 8,601"," 8,365"," 7,999"," 7,994"," 7,892"," 7,864"," 7,813"," 7,100"," 6,991"," 6,969"," 6,804"," 6,719"," 6,636"," 6,608"," 6,568"," 5,581"," 5,237"," 4,851"," 4,736"," 4,689"," 4,098"," 3,825"," 3,749"," 3,694"," 3,452"," 3,418"," 3,387"," 3,242"," 3,186"," 3,173"," 2,720"," 2,701"," 2,449"," 2,321"," 2,284"," 2,190"," 2,067"," 2,007"," 1,848"," 1,761"," 1,665"," 1,588"," 1,354"," 1,313"," 1,270"," 1,169"," 1,165"," 1,035","   965","   905","   781","   774","   589","   568","   558","   553","   547","   506","   499","   491","   476","   469","   469","   442","   416","   389","   367","   319","   314","   310","   295","   292","   291","   289","   275","   252","   188","   186","   155","   154","   151","    99","    46","     6","     4","     4","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA"],["68,863","49,884","51,225","28,600","27,561","22,377","21,361","13,664","14,140","10,050","12,527","13,372","10,568","12,808","11,606","12,000"," 9,696"," 8,625","10,555","10,272"," 8,193"," 8,337"," 8,582"," 7,305"," 8,365"," 7,998"," 7,584"," 7,245"," 7,309"," 4,753"," 7,100"," 6,537"," 6,239"," 6,494"," 6,219"," 5,113"," 6,006"," 6,349"," 5,221"," 4,988"," 4,851"," 3,774"," 4,462"," 3,815"," 2,383"," 3,215"," 3,679"," 3,339"," 3,369"," 2,961"," 2,773"," 1,700"," 3,168"," 2,720"," 2,469"," 2,449"," 2,321"," 1,743"," 1,401"," 1,979"," 2,007"," 1,843"," 1,756"," 1,615"," 1,530"," 1,320"," 1,313"," 1,270"," 1,124"," 1,074"," 1,035","   965","   846","   781","   774","   572","   336","   558","   553","   547","   506","   499","   478","   471","   469","   469","   442","   416","   197","   367","   319","   314","   310","   295","   105","   291","   289","   275","   252","   188","   110","   155","   154","   151","    99","    46","     0","     0","     0","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA","    NA"],[17.79,40.64,15.45,15.02,26.42,58.29,8.279999999999999,15.3,37.68,41.67,35,64.77,87.27,21.24,67.91,13.55,28.1,21.13,41.05,78.61,52.05,18.15,79.23,22.72,16.32,15.51,28.63,27.98,11.27,27.37,20,16.11,60.51,11.59,63.96,8.73,72.13,22.92,38.69,67.64,3.01,40.72,36.83,46.93,19.75,74.58,5.47,10.18,5.38,20.59,10.89,4.33,42.16,2.95,3.5,2.7,75.65000000000001,5.53,7.64,27.44,1.32,5.85,31.02,2.4,6.05,30.16,2.53,2.67,18.2,9.51,2.1,6.2,4.45,5.41,1.8,5.7,2.78,6.31,1.44,5.63,17.85,7.59,2.67,5.04,9.19,13.32,2.06,0.87,1.7,1,9.699999999999999,1.68,3.72,1.37,1,0.96,3.22,45.16,2.09,1.83,2.04,0.75,0.52,6.08,1.32,0.33,0,0,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[10,10,10,9,10,2,3,10,8,9,7,5,9,5,7,6,9,9,3,5,4,8,9,9,2,2,6,6,7,9,2,6,7,3,7,8,2,9,7,4,2,8,3,2,8,6,6,1,2,9,5,8,2,1,9,1,1,3,8,4,2,2,2,2,6,5,1,2,2,3,2,2,3,2,2,1,3,1,1,2,1,2,4,2,1,2,2,2,3,1,1,1,1,1,6,2,2,1,1,1,3,1,1,3,1,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["2,089,012","  711,885","1,752,602","  921,389","  518,813","  144,111","1,159,062","  433,939","  125,632","  106,310","  172,938","   92,805","   48,551","  228,416","  246,263","  378,981","  373,965","  176,346","   75,784","   62,156","   65,524","  225,604","  140,384","  130,215","  294,615","  227,065","  128,154","   98,967","  288,556","   94,046","  162,646","  163,525","   49,765","  250,567","   93,169","  299,047","   33,932","   97,838","   54,412","   39,849","  936,071","   54,313","   39,690","   25,382","   66,081","   19,791","  308,465","  201,094","  288,381","   59,101","  128,022","  134,080","   30,668","  444,503","  225,745","  420,241","   11,078","  148,480","  137,292","   24,542","  616,138","  145,842","   23,493","  300,908","  104,429","   20,404","  212,662","  199,414","   35,252","   43,309","  208,981","   68,669","   69,326","   49,412","  194,896","   48,629","   51,996","   70,018","  169,946","   56,142","   11,655","   47,700","   67,830","   39,736","   22,915","   13,169","   85,394","  219,622","   58,305","  139,385","   15,734","   72,035","   32,682","  107,347","   39,876","  143,540","   36,352","    2,875","   48,721","   45,832","   23,552","  129,919","  112,157","   10,816","   32,917","   75,060","   78,344","   79,274","  232,739","    2,578","    9,822","   34,721","   43,893","   16,206","   46,709","   37,907","   38,249","   15,937","   19,618","   17,858","   28,725","   82,608","   10,732","   11,325","  499,976","   11,749","   46,887","   78,979","   35,069","   40,478","   33,679","   41,710","   19,254","  471,428","   36,435","  166,494","   56,114","  129,394","  114,919","   28,288","   26,363","  243,890","   43,199","  136,439","   16,232","   23,735","  161,867","  140,137","   15,005","   47,121","   89,401","   30,752","   60,627","   29,186","   60,836","   41,545","   75,664","   27,363","   17,761","   26,490","   28,511","   19,161","   52,488","  162,493","  113,529","   76,400","  188,354","  165,506","   32,060","   28,596","  187,563","  121,625","   18,587","  113,818","   13,030","   10,432","   18,337","   13,873","   19,971","  124,460","   37,528","    7,817","   22,408","    9,838","   26,742","   12,726","   27,676","   11,744","   57,327","   34,822","   13,136","   47,593","   28,933","   23,099","    8,682","   16,178","   12,217","   12,812","   43,784","    6,641","    6,268","   18,338","    9,399","   30,772","   17,374","   20,534","   24,039","  156,402","   41,305","   33,493","  178,106","   93,725","   29,002","   45,813","  165,150","   14,074","   15,869","   75,818","   54,427","   58,910","  116,211","   40,583","   69,172","   16,855","   28,640","    4,989","   15,412","   11,307","   10,698","   17,183","    5,820","   26,807","   29,373","    3,797","   12,908","   24,413","   23,205","   70,018","   39,570","   13,358","   19,707","   42,955","   38,153","   39,565","   72,247","   50,656","   30,463","   10,734","   26,558","   10,443","   34,737","   35,621","   88,088","   84,010","   50,745","   63,141","   44,974","  126,518","   32,545","   45,587","   11,112","   24,155","  390,218","   51,377","   43,587","   27,520","   56,619","   19,334","   27,105","   21,489","   20,330","   48,235","   74,985","   31,342","   23,466","   55,969","   37,062","  162,908","   26,131","   25,101","   41,850","   11,372","   28,588","   16,708","   63,421","   21,793","   11,211","    4,337","   44,405","   29,369","   13,976","    6,230","   11,013","    2,658","    7,912","   21,505","    7,963","   20,060","   19,729","   34,593","   34,312","   34,013","    5,650","    6,418","   24,220","   27,285","   15,702","   25,070","   58,834","   35,267","   27,709","   71,614","   37,767","   70,149","   41,949","   25,103","   37,905","   84,876","   51,981","   74,657","   23,832","   21,225","   15,417","   70,270","  124,643","  128,056","   24,129","   26,308","   32,249","   14,111","   46,518","   37,607","   34,162","   66,465","   49,532"],[99.94,99.83,99.78,98.83,99.41,80.7,96.23999999999999,97.93000000000001,84.06999999999999,56.14,95.79000000000001,88.84,63.01,91.36,99.31999999999999,89.81999999999999,100,97.27,65.92,85.55,76.19,96.66,66.2,83.25,98.36,89.37,98.63,67.55,98.64,72.59,92.48999999999999,99.92,95.79000000000001,92.42,99.67,96.17,79.53,87.59,63.77,90.93000000000001,98.3,98,49.51,47.67,91.33,69.09,97.15000000000001,99.45999999999999,96.64,89.04000000000001,64.09999999999999,87.59,91.15000000000001,94.33,91.92,92.7,0,99.76000000000001,98.2,57.49,90.42,99.75,77.33,99.53,74.13,75.51000000000001,94.16,99.62,86.62,73.78,66,99.33,84.16,83.34999999999999,99.73999999999999,81.63,76.40000000000001,78.08,97.38,96.39,45.81,99.7,64.63,74.5,71.36,53.38,70.93000000000001,98.28,99.63,54.75,0,65.2,0,67.59999999999999,71.22,75.25,67.47,0,83.18000000000001,41.31,62.43,93.02,74.38,43.9,85.45,85.67,100,100,85.02,0,0,76.90000000000001,76.14,75.34999999999999,85.14,89.48999999999999,65.27,40.06,54,56.14,93.40000000000001,99.08,88.01000000000001,90.23,96.23999999999999,58.39,100,50.43,60.31,40.72,58.34,96.65000000000001,84.2,99.95999999999999,97.45999999999999,96.29000000000001,89.59,99.47,100,73.93000000000001,90.41,98.58,88.79000000000001,99.94,31.15,38.34,90.91,99.23999999999999,68.88,57.26,64.67,23.75,74.91,61.95,74.3,41.14,57.43,27.05,43.48,95.95999999999999,94.3,54.68,88.77,93.34999999999999,99.92,96.8,98.86,100,97.59,99.33,99.14,99.98,66.40000000000001,92.45,59.34,65.34,32.3,41.48,88.59999999999999,88.98,88.41,0,48.52,0,14.8,89.73999999999999,79.2,37.09,24.01,51.22,0,89.7,47.28,63.49,0,33.35,27.61,42.96,82.27,64.11,77.34999999999999,50.09,0,75.26000000000001,68.38,72.17,29.43,87.19,88.34999999999999,86.54000000000001,89.34,76.56,48.07,59.39,94.15000000000001,72.76000000000001,63.46,76.81999999999999,42.12,81.62,75.7,71.43000000000001,48.27,44.85,43.65,0,20.64,51.23,0,0,0,63.15,91.79000000000001,92.41,34.86,91.44,90.89,63.62,78.65000000000001,78.89,57.34,89.98,54.48,52.76,95.65000000000001,62.48,73.73,90.66,79.01000000000001,53.77,100,100,99.7,98.11,91.40000000000001,100,99.97,100,78.17,94.41,54.87,71.42,77.34999999999999,62.15,58.35,32.28,50.73,21.81,61.5,71.81,29.08,59.07,69.52,80.42,50.7,70.16,34.9,96.52,76.51000000000001,68.3,75.13,59.95,44.8,40.9,70.56,86.81,88.06,63.56,61.12,82.09,53.39,0,71.27,0,40.69,36.71,56.99,34.77,71.38,52.41,38.64,92.63,64.70999999999999,75.98999999999999,67,72.01000000000001,59.61,74.44,86.84999999999999,92.94,99.62,96.3,88.79000000000001,79.63,62.98,94.98999999999999,47.45,89.83,94.77,91.25,84.81,92.34,32.09,70.3,86.18000000000001,90.22,79.20999999999999,83.15000000000001,32.44,64.36,60.95,66.65000000000001,60.17,91.91,97.44],[16.3,22.38,31.94,36.53,42.87,49.6,43.94,39.27,47.57,55.47,38.09,35.77,43.08,63.24,29.85,33.44,18.12,39.11,79.17,37.91,57.67,34.45,50.68,41.9,33.22,47.01,49.02,49.6,31.98,48.6,38.32,39.31,43,38.29,32.6,34.23,41.37,51.72,51.74,34.77,34.24,42.14,52.12,61.47,37.39,41.87,39.04,35.1,34.01,44.7,49.74,60.66,40.96,40.58,34.45,38.21,68.8,41.69,33.02,54.65,39.82,37.56,38.46,35.98,46.75,35.32,37.84,32.24,36.71,42.24,47.54,40.8,38.01,44.46,32.61,39.69,40.49,35.95,35.54,37.62,62.81,34.04,44.22,44.23,40.1,42.52,45.18,36.14,30.32,48.24,92.34999999999999,52.75,94.41,45.36,74.5,46.4,47.81,78.15000000000001,49.95,48.55,44.26,37.78,48.2,37.17,45.27,53.51,25.38,6.91,45.39,72.09,74.31999999999999,45.23,42.5,46.86,49.24,38.78,45.88,51.53,57.68,51.3,50.74,36.07,43.9,46.87,39.45,61.22,23.98,57.03,55.5,59.32,53.84,41.49,40.76,31.63,33.57,40.01,38.8,38.43,31.78,42.29,40.7,36.06,45.24,30.56,48.12,48.44,44.53,21.62,37.84,44.79,47.38,57.77,41.56,47.92,45.16,47.88,48.28,52.09,46.97,50.52,44.62,49.35,41.25,43.17,39.46,38.83,40.91,32.02,45.06,37.41,31.7,31.76,48.35,43.13,54.75,46.13,57.92,45.71,43.81,40.38,47.76,82.61,46.73,39.32,53.38,46.12,45.03,72.81,41.63,48.8,52.68,30.57,49.55,39.95,44.11,46.45,55.82,47.36,44.29,51.88,57.38,54.29,51.76,51.81,53.38,53.42,63.49,45.08,54.33,47.47,45.47,47.33,51.85,57.94,41.01,51.21,60.58,51.21,58.17,51.82,44.43,47.34,55.43,41.48,42,50.82,50.92,41.12,50.24,46.71,47.61,40.22,44.66,36.8,39.17,36.54,37.37,42.55,44.11,43.94,47.16,46.61,46.77,45.89,39.34,47.12,44.8,41.2,50.67,48.16,39.98,36.4,40.76,35.74,42.1,31.75,37.79,31.75,44.22,41.27,50.21,43.01,41.78,48.32,58.34,54.67,58.24,52.45,50.72,45.25,49.3,49.41,44.36,48.8,52.54,47.42,52.71,41.57,45.14,49.94,45.22,45.18,46.96,47.91,49.42,35.63,43.77,39.44,37.73,38.92,40.42,38.67,42.52,39.51,43.96,42.78,40.17,47.85,45.89,48.11,49.09,42.94,48.1,43.33,48.67,48.85,48.95,39.1,42.92,36.91,39.78,36.81,51.95,38.26,46,46.06,47.17,44.15,40.07,36.56,46.37,44.66,46.01,46.2,45.29,41.08,40.52,47.8,46.39,60.05,50.47,46.57,53.17,50.94,47.24]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Cluster_present<\/th>\n      <th>state<\/th>\n      <th>municipality<\/th>\n      <th>beneficiaries<\/th>\n      <th>beneficiaries_3_17<\/th>\n      <th>coverage_percent<\/th>\n      <th>num_activities<\/th>\n      <th>population<\/th>\n      <th>percent_urban<\/th>\n      <th>percent_poor<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[6,7,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Cluster_present","targets":1},{"name":"state","targets":2},{"name":"municipality","targets":3},{"name":"beneficiaries","targets":4},{"name":"beneficiaries_3_17","targets":5},{"name":"coverage_percent","targets":6},{"name":"num_activities","targets":7},{"name":"population","targets":8},{"name":"percent_urban","targets":9},{"name":"percent_poor","targets":10}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- -->

</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb29" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Reporting on Education 5W data from Venezuela"</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Sean Ng"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> last-modified</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Originally published 12 January 2024"</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="an">toc-depth:</span><span class="co"> 4</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">    page-layout: full</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE,</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="in">                      fig.width = 9.5)</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="in">library(lubridate)</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="in">library(stringr)</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="in">library(stringi)</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="in">library(pander)</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="in">library(scales)</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="in">library(forcats)</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="in">library(janitor)</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="in">library(readxl)</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggmap)</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="in">library(sf)</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="in">library(patchwork)</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggforce)</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggthemes)</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a><span class="in">library(plotly)</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="in">library(kableExtra)</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a><span class="in">library(DT)</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a><span class="in">library(tinytex)</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a><span class="in">library(writexl)</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="in"># tables all in one row</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a><span class="in">panderOptions('table.split.table', Inf)</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="in"># thousands separator</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a><span class="in">panderOptions("big.mark", ",")</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a><span class="in">theme_set(theme_light())</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a><span class="in"># Disabling scientific notation</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a><span class="in">options(scipen = 100)</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a><span class="in"># This should just be a standard R function</span></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a><span class="in">`%out%` &lt;- Negate(`%in%`)</span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a><span class="fu"># B. Reporting on the 5W data</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>This is the second part of this primer on cleaning and reporting 5W data. For the first part on data cleaning, please see <span class="co">[</span><span class="ot">here</span><span class="co">]()</span>.</span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a>This is an entirely automated report -- all charts and tables, as well as all figures within the report have been generated from the clean data (the output of the <span class="co">[</span><span class="ot">cleaning script</span><span class="co">]()</span>), with no manual input. The output of this report will be an HTML file which we will publish online. If desired, a PDF of this report may also be generated.</span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>This set of 5W data pertains to the Education Cluster in Venezuela and has had all partner information (except that of UNICEF) removed. This is a generic 5W report, intended for external audiences and management. An example of a more thorough analysis of coverage and gaps can be found <span class="co">[</span><span class="ot">here</span><span class="co">](https://seanywng.github.io/coverage_gaps_venezuela/)</span>.</span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>Code will be displayed in this version, as it is intended as an example. We would typically hide all code before sharing the report with management.</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>Let us start with reading in the data:</span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{r report-setup, echo=TRUE}</span></span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a><span class="in"># read in census reference dataset</span></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a><span class="in">cen_ref &lt;- read_excel("census_data_20191122.xlsx", sheet = "data") %&gt;% </span></span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a><span class="in">  clean_names() %&gt;%</span></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a><span class="in">  select(estado, pcode1, municipio, pcode2, parroquia, pcode3, field_office,</span></span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a><span class="in">         poblacion_total_2011, x_2019_poblacion_parroquial_total,</span></span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a><span class="in">         ham_2019_ambitos_ge, ham_2019_xx_pobreza_env_por_parroquia, </span></span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a><span class="in">         ham_2019_xx_poblacion_pobre_por_parroquia,</span></span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a><span class="in">         poblacion_infantil_menor_de_12_anos, poblacion_adolescentes_de_12_a_17_anos,</span></span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a><span class="in">         poblacion_de_18_anos_y_mas, </span></span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a><span class="in">         poblacion_urbana_percent, area_km2, densidad_poblacional_ppl_km2,</span></span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a><span class="in">         matricula_2017_educacion_inicial, matricula_2017_educacion_primaria, </span></span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a><span class="in">         matricula_2017_educacion_media)</span></span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a><span class="in"># Reading in the activity beneficiaries dataframe</span></span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a><span class="in"># This or most current file</span></span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a><span class="in">act_ben &lt;- read_csv("activity_ben.csv") |&gt; </span></span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(implementing_partner = </span></span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a><span class="in">           str_replace_all(implementing_partner,</span></span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a><span class="in">                           "UNICEF - Fondo de las Naciones Unidas para la Infancia",</span></span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a><span class="in">                           "UNICEF"), </span></span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a><span class="in">         activity_short = recode(activity_code, </span></span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.01 = "1.01_school_reintegration",</span></span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.02 = "1.02_leveling_capacitation",</span></span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.03 = "1.03_school_kits",</span></span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.04 = "1.04_school_feeding",</span></span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.05 = "1.05_promotion_key_messages",</span></span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.06 = "1.06_psychosocial_support",</span></span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA1.07 = "1.07_recreational_activities",</span></span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA2.08 = "2.08_distance education",</span></span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA2.09 = "2.09_teacher_training",</span></span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a><span class="in">                                 CA2.10 = "2.10_teacher_scholarships"))</span></span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a><span class="in"># Reading in the unique benficiaries dataframe</span></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a><span class="in">u_ben &lt;- read_csv("unique_ben.csv")</span></span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a><span class="in"># Remember that all radio messaging activities have already been filtered out</span></span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-112"><a href="#cb29-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Summary of beneficiaries by activity, with sex ratio</span></span>
<span id="cb29-113"><a href="#cb29-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-114"><a href="#cb29-114" aria-hidden="true" tabindex="-1"></a>This is an example of a summary table, by activity. We have also included the sex ratio, from which we note that all activities reach more women than men, except for 1.01 Reintegration into schools.</span>
<span id="cb29-115"><a href="#cb29-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-116"><a href="#cb29-116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r summary-TABLE-activity-and-sex, echo=TRUE}</span></span>
<span id="cb29-117"><a href="#cb29-117" aria-hidden="true" tabindex="-1"></a><span class="in">act_ben |&gt; </span></span>
<span id="cb29-118"><a href="#cb29-118" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(beneficiary_sex = case_when(</span></span>
<span id="cb29-119"><a href="#cb29-119" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "^m") ~ "male",</span></span>
<span id="cb29-120"><a href="#cb29-120" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "^f") ~ "female", </span></span>
<span id="cb29-121"><a href="#cb29-121" aria-hidden="true" tabindex="-1"></a><span class="in">    TRUE ~ "not_specified")) |&gt; </span></span>
<span id="cb29-122"><a href="#cb29-122" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(activity_short) |&gt; </span></span>
<span id="cb29-123"><a href="#cb29-123" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(total_reached = sum(beneficiaries, na.rm = TRUE), </span></span>
<span id="cb29-124"><a href="#cb29-124" aria-hidden="true" tabindex="-1"></a><span class="in">            male = sum(beneficiaries[beneficiary_sex == "male"]), </span></span>
<span id="cb29-125"><a href="#cb29-125" aria-hidden="true" tabindex="-1"></a><span class="in">            female = sum(beneficiaries[beneficiary_sex == "female"]), </span></span>
<span id="cb29-126"><a href="#cb29-126" aria-hidden="true" tabindex="-1"></a><span class="in">            sex_ratio = round(male/female, digits = 2)) |&gt; </span></span>
<span id="cb29-127"><a href="#cb29-127" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(`%_total` = round(total_reached / sum(total_reached) * 100, digits = 2)) |&gt;</span></span>
<span id="cb29-128"><a href="#cb29-128" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("total_reached", "male", "female"), ~ round(., digits = 0)) |&gt; </span></span>
<span id="cb29-129"><a href="#cb29-129" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("total_reached", "male", "female"), ~ format(., big.mark = ",")) |&gt; </span></span>
<span id="cb29-130"><a href="#cb29-130" aria-hidden="true" tabindex="-1"></a><span class="in">  relocate(`%_total`, .after = total_reached) |&gt;  </span></span>
<span id="cb29-131"><a href="#cb29-131" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(total_reached)) |&gt; </span></span>
<span id="cb29-132"><a href="#cb29-132" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(activity = activity_short) |&gt; </span></span>
<span id="cb29-133"><a href="#cb29-133" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(str_to_title) |&gt; </span></span>
<span id="cb29-134"><a href="#cb29-134" aria-hidden="true" tabindex="-1"></a><span class="in">  kable(caption = "Beneficiaries by activity") %&gt;%</span></span>
<span id="cb29-135"><a href="#cb29-135" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover"),</span></span>
<span id="cb29-136"><a href="#cb29-136" aria-hidden="true" tabindex="-1"></a><span class="in">                font_size = 12, full_width = FALSE)</span></span>
<span id="cb29-137"><a href="#cb29-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-138"><a href="#cb29-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-139"><a href="#cb29-139" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-140"><a href="#cb29-140" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-141"><a href="#cb29-141" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-142"><a href="#cb29-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-143"><a href="#cb29-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-144"><a href="#cb29-144" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-145"><a href="#cb29-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-146"><a href="#cb29-146" aria-hidden="true" tabindex="-1"></a>We want to include figures in our text, but since this is meant to be an automated report, we will make use of inline code to do this:</span>
<span id="cb29-147"><a href="#cb29-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-148"><a href="#cb29-148" aria-hidden="true" tabindex="-1"></a>A total of `` format(round(sum(u_ben$beneficiaries)), big.mark = ",") `` individuals have been reached to date.</span>
<span id="cb29-149"><a href="#cb29-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-150"><a href="#cb29-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-151"><a href="#cb29-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-152"><a href="#cb29-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-153"><a href="#cb29-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-154"><a href="#cb29-154" aria-hidden="true" tabindex="-1"></a>This will evaluate as:</span>
<span id="cb29-155"><a href="#cb29-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-156"><a href="#cb29-156" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; A total of **`r format(round(sum(u_ben$beneficiaries)), big.mark = ",")`** individuals have been reached to date.</span></span>
<span id="cb29-157"><a href="#cb29-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-158"><a href="#cb29-158" aria-hidden="true" tabindex="-1"></a>In the same vein, we will continue to use inline code to generate all figures that appear in the text of the report. This means that we will not need to rewrite anything or manually correct any figures even if we get new data. All we would need to do is re-run the report and the correct figures will be updated. Download the QMD from the link at the top-right corner to see all the other instances of inline code.</span>
<span id="cb29-159"><a href="#cb29-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-160"><a href="#cb29-160" aria-hidden="true" tabindex="-1"></a>Continuing the report:</span>
<span id="cb29-161"><a href="#cb29-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-162"><a href="#cb29-162" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; In terms of frequencies (inclusive of double counting), **`r format(sum(act_ben$beneficiaries), big.mark = ",")`** have been reached.</span></span>
<span id="cb29-163"><a href="#cb29-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-164"><a href="#cb29-164" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-165"><a href="#cb29-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-166"><a href="#cb29-166" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Beneficiaries by age group</span></span>
<span id="cb29-167"><a href="#cb29-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-168"><a href="#cb29-168" aria-hidden="true" tabindex="-1"></a>The figures in the plot below are unique beneficiaries or individuals.</span>
<span id="cb29-169"><a href="#cb29-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-170"><a href="#cb29-170" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-171"><a href="#cb29-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-172"><a href="#cb29-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PLOT-beneficiaries-by-age, echo=TRUE}</span></span>
<span id="cb29-173"><a href="#cb29-173" aria-hidden="true" tabindex="-1"></a><span class="in"># to reorder the plot</span></span>
<span id="cb29-174"><a href="#cb29-174" aria-hidden="true" tabindex="-1"></a><span class="in">ordvec &lt;- c("0-3", "3-6", "7-12", "12-17", "18-19", "19_and_older")</span></span>
<span id="cb29-175"><a href="#cb29-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-176"><a href="#cb29-176" aria-hidden="true" tabindex="-1"></a><span class="in"># df for the plot</span></span>
<span id="cb29-177"><a href="#cb29-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-178"><a href="#cb29-178" aria-hidden="true" tabindex="-1"></a><span class="in">age_u_ben &lt;- u_ben |&gt; </span></span>
<span id="cb29-179"><a href="#cb29-179" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(age_ben = case_when(</span></span>
<span id="cb29-180"><a href="#cb29-180" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation,"0_3$") ~ "0-3",</span></span>
<span id="cb29-181"><a href="#cb29-181" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation,"3_6$") ~ "3-6",</span></span>
<span id="cb29-182"><a href="#cb29-182" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "7_12$") ~ "7-12", </span></span>
<span id="cb29-183"><a href="#cb29-183" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "12_17$") ~ "12-17",</span></span>
<span id="cb29-184"><a href="#cb29-184" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "18_19$") ~ "18-19",</span></span>
<span id="cb29-185"><a href="#cb29-185" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "19_and_older$") ~ "19_and_older",</span></span>
<span id="cb29-186"><a href="#cb29-186" aria-hidden="true" tabindex="-1"></a><span class="in">    TRUE ~ "not_specified")) |&gt; </span></span>
<span id="cb29-187"><a href="#cb29-187" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(age_ben != "not_specified") |&gt; </span></span>
<span id="cb29-188"><a href="#cb29-188" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(age_ben) |&gt; </span></span>
<span id="cb29-189"><a href="#cb29-189" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(beneficiaries = sum(beneficiaries))</span></span>
<span id="cb29-190"><a href="#cb29-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-191"><a href="#cb29-191" aria-hidden="true" tabindex="-1"></a><span class="in">age_u_ben |&gt; </span></span>
<span id="cb29-192"><a href="#cb29-192" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = fct_relevel(age_ben, ordvec), y = beneficiaries)) + </span></span>
<span id="cb29-193"><a href="#cb29-193" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(fill = "cornflowerblue") + </span></span>
<span id="cb29-194"><a href="#cb29-194" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = scales::comma(beneficiaries)), </span></span>
<span id="cb29-195"><a href="#cb29-195" aria-hidden="true" tabindex="-1"></a><span class="in">            vjust = -.25, size = 4) + </span></span>
<span id="cb29-196"><a href="#cb29-196" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = unit_format(unit = "K", </span></span>
<span id="cb29-197"><a href="#cb29-197" aria-hidden="true" tabindex="-1"></a><span class="in">                                          scale = 1e-3, </span></span>
<span id="cb29-198"><a href="#cb29-198" aria-hidden="true" tabindex="-1"></a><span class="in">                                          sep = "")) + </span></span>
<span id="cb29-199"><a href="#cb29-199" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "Age groups", y = "Beneficiaries", </span></span>
<span id="cb29-200"><a href="#cb29-200" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Unique beneficiaries by age group") + </span></span>
<span id="cb29-201"><a href="#cb29-201" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text = element_text(size = 10))</span></span>
<span id="cb29-202"><a href="#cb29-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-203"><a href="#cb29-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-204"><a href="#cb29-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-205"><a href="#cb29-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-206"><a href="#cb29-206" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-207"><a href="#cb29-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-208"><a href="#cb29-208" aria-hidden="true" tabindex="-1"></a>We observe that the largest group of Education Cluster beneficiaries are of primary-school age, followed by those of secondary-school age.</span>
<span id="cb29-209"><a href="#cb29-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-210"><a href="#cb29-210" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-211"><a href="#cb29-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-212"><a href="#cb29-212" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2a. Beneficiaries by age compared to 2017 Enrollment</span></span>
<span id="cb29-213"><a href="#cb29-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-214"><a href="#cb29-214" aria-hidden="true" tabindex="-1"></a>Let us next compare beneficiaries reached with the 2017 matriculation (the most recent figures available at the time). We are comparing beneficiaries reached to the total national matriculation because the Venezuela Refugee and Economic Crisis was national in scale. In other responses, we might want to limit this to the number of students enrolled in affected areas.</span>
<span id="cb29-215"><a href="#cb29-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-216"><a href="#cb29-216" aria-hidden="true" tabindex="-1"></a>This code chunk below generates several reference figures which we will make use of within inline code inside the text as well as in a summary table:</span>
<span id="cb29-217"><a href="#cb29-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-218"><a href="#cb29-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r REF-matric-ben, echo=TRUE}</span></span>
<span id="cb29-219"><a href="#cb29-219" aria-hidden="true" tabindex="-1"></a><span class="in"># reference df for the table and text below, restructuring enrollment data from cen_ref</span></span>
<span id="cb29-220"><a href="#cb29-220" aria-hidden="true" tabindex="-1"></a><span class="in">matric_ben &lt;- cen_ref %&gt;% </span></span>
<span id="cb29-221"><a href="#cb29-221" aria-hidden="true" tabindex="-1"></a><span class="in">  select(matricula_2017_educacion_inicial, matricula_2017_educacion_primaria, </span></span>
<span id="cb29-222"><a href="#cb29-222" aria-hidden="true" tabindex="-1"></a><span class="in">         matricula_2017_educacion_media) %&gt;%</span></span>
<span id="cb29-223"><a href="#cb29-223" aria-hidden="true" tabindex="-1"></a><span class="in">  rename("3-6" = matricula_2017_educacion_inicial,</span></span>
<span id="cb29-224"><a href="#cb29-224" aria-hidden="true" tabindex="-1"></a><span class="in">         "7-12" = matricula_2017_educacion_primaria,</span></span>
<span id="cb29-225"><a href="#cb29-225" aria-hidden="true" tabindex="-1"></a><span class="in">         "12-17" = matricula_2017_educacion_media) %&gt;% </span></span>
<span id="cb29-226"><a href="#cb29-226" aria-hidden="true" tabindex="-1"></a><span class="in">  pivot_longer(everything(), names_to = "age_ben", values_to = "matricula2017", </span></span>
<span id="cb29-227"><a href="#cb29-227" aria-hidden="true" tabindex="-1"></a><span class="in">               values_drop_na = TRUE) %&gt;% </span></span>
<span id="cb29-228"><a href="#cb29-228" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(age_ben) %&gt;% </span></span>
<span id="cb29-229"><a href="#cb29-229" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(enrolment2017 = sum(matricula2017)) %&gt;%</span></span>
<span id="cb29-230"><a href="#cb29-230" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(age_u_ben, by = "age_ben") %&gt;% </span></span>
<span id="cb29-231"><a href="#cb29-231" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(percent_reached = beneficiaries/enrolment2017 * 100) %&gt;% </span></span>
<span id="cb29-232"><a href="#cb29-232" aria-hidden="true" tabindex="-1"></a><span class="in">  relocate(beneficiaries, .after = age_ben) %&gt;% </span></span>
<span id="cb29-233"><a href="#cb29-233" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(`Age group` = age_ben) %&gt;% </span></span>
<span id="cb29-234"><a href="#cb29-234" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(2,3,1)  # rearranging rows</span></span>
<span id="cb29-235"><a href="#cb29-235" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-236"><a href="#cb29-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-237"><a href="#cb29-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-238"><a href="#cb29-238" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; With reference to the 2017 Matricula dataset, we can see that the Education cluster has reached an overall average of **`r round(sum(matric_ben$beneficiaries)/(sum(matric_ben$enrolment2017))*100)`%** of schoolgoing children aged 3-17 nationwide. Children aged 3-17 consitute **`r round(sum(matric_ben$beneficiaries)/(sum(u_ben$beneficiaries))*100)`%** of all Education Cluster beneficiaries.</span></span>
<span id="cb29-239"><a href="#cb29-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-240"><a href="#cb29-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{r TABLE-matric-ben, echo=TRUE}</span></span>
<span id="cb29-241"><a href="#cb29-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-242"><a href="#cb29-242" aria-hidden="true" tabindex="-1"></a><span class="in">matric_ben |&gt; </span></span>
<span id="cb29-243"><a href="#cb29-243" aria-hidden="true" tabindex="-1"></a><span class="in">  # Some formatting for the table below</span></span>
<span id="cb29-244"><a href="#cb29-244" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("beneficiaries", "enrolment2017"), </span></span>
<span id="cb29-245"><a href="#cb29-245" aria-hidden="true" tabindex="-1"></a><span class="in">            ~ format(round(., digits = 0), big.mark = ",")) |&gt;</span></span>
<span id="cb29-246"><a href="#cb29-246" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(percent_reached = round(percent_reached, digits = 2)) |&gt; </span></span>
<span id="cb29-247"><a href="#cb29-247" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(str_to_title) |&gt; </span></span>
<span id="cb29-248"><a href="#cb29-248" aria-hidden="true" tabindex="-1"></a><span class="in">  kable(caption = "Comparison between beneficiaries reached and 2017 matriculation") |&gt; </span></span>
<span id="cb29-249"><a href="#cb29-249" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover"), </span></span>
<span id="cb29-250"><a href="#cb29-250" aria-hidden="true" tabindex="-1"></a><span class="in">                font_size = 12, full_width = FALSE)</span></span>
<span id="cb29-251"><a href="#cb29-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-252"><a href="#cb29-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-253"><a href="#cb29-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-254"><a href="#cb29-254" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-255"><a href="#cb29-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-256"><a href="#cb29-256" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Changes since previous month</span></span>
<span id="cb29-257"><a href="#cb29-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-258"><a href="#cb29-258" aria-hidden="true" tabindex="-1"></a>This section will pull out changes since the previous month -- these figures are especially important for UNICEF-style reporting. As above, we have generated some reference datasets and use inline code to avoid manual data entry.</span>
<span id="cb29-259"><a href="#cb29-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-260"><a href="#cb29-260" aria-hidden="true" tabindex="-1"></a><span class="in">```{r REF-for-text-cumulative-datasets, echo=TRUE}</span></span>
<span id="cb29-261"><a href="#cb29-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-262"><a href="#cb29-262" aria-hidden="true" tabindex="-1"></a><span class="in"># creating reference dfs for the text and plot below</span></span>
<span id="cb29-263"><a href="#cb29-263" aria-hidden="true" tabindex="-1"></a><span class="in">cum_u_ben &lt;- u_ben |&gt; </span></span>
<span id="cb29-264"><a href="#cb29-264" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(month_reported) |&gt; </span></span>
<span id="cb29-265"><a href="#cb29-265" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(month_reported) |&gt;  </span></span>
<span id="cb29-266"><a href="#cb29-266" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(sum_ben = sum(beneficiaries)) |&gt;  </span></span>
<span id="cb29-267"><a href="#cb29-267" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(cumulative = cumsum(sum_ben))</span></span>
<span id="cb29-268"><a href="#cb29-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-269"><a href="#cb29-269" aria-hidden="true" tabindex="-1"></a><span class="in">cum_act_ben &lt;- act_ben |&gt;  </span></span>
<span id="cb29-270"><a href="#cb29-270" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(month_reported) |&gt; </span></span>
<span id="cb29-271"><a href="#cb29-271" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(month_reported) |&gt; </span></span>
<span id="cb29-272"><a href="#cb29-272" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(sum_ben = sum(beneficiaries)) |&gt; </span></span>
<span id="cb29-273"><a href="#cb29-273" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(cumulative = cumsum(sum_ben))</span></span>
<span id="cb29-274"><a href="#cb29-274" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-275"><a href="#cb29-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-276"><a href="#cb29-276" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The number of individuals reached has increased by **`r format(cum_u_ben[11,3] - cum_u_ben[10,3], big.mark = ",")`** in the past month, reaching a total of **`r format(round(sum(u_ben$beneficiaries)), big.mark = ",")`**. The number of beneficiary frequencies reached has increased by **`r format(cum_act_ben[11,3] - cum_act_ben[10,3], big.mark = ",")`** in the same period, reaching a total of **`r format(sum(cum_act_ben[11,3]), big.mark = ",")`**.</span></span>
<span id="cb29-277"><a href="#cb29-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-278"><a href="#cb29-278" aria-hidden="true" tabindex="-1"></a>We will also make a line plot showing progress over time:</span>
<span id="cb29-279"><a href="#cb29-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-280"><a href="#cb29-280" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-281"><a href="#cb29-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-282"><a href="#cb29-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r  line-PLOT-cumulative-beneficiaries, echo=TRUE}</span></span>
<span id="cb29-283"><a href="#cb29-283" aria-hidden="true" tabindex="-1"></a><span class="in">u_ben %&gt;% </span></span>
<span id="cb29-284"><a href="#cb29-284" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(month_reported = as.Date(month_reported)) |&gt; </span></span>
<span id="cb29-285"><a href="#cb29-285" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(month_reported) |&gt; </span></span>
<span id="cb29-286"><a href="#cb29-286" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(month_reported) |&gt; </span></span>
<span id="cb29-287"><a href="#cb29-287" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(sum_ben = sum(beneficiaries)) |&gt;  </span></span>
<span id="cb29-288"><a href="#cb29-288" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(cumulative = cumsum(sum_ben)) |&gt;  </span></span>
<span id="cb29-289"><a href="#cb29-289" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = month_reported, y = cumulative)) +</span></span>
<span id="cb29-290"><a href="#cb29-290" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb29-291"><a href="#cb29-291" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = scales::comma(cumulative)), vjust = -0.25, hjust = 1, size = 3) +</span></span>
<span id="cb29-292"><a href="#cb29-292" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_date(date_labels = "%b", date_breaks = "1 month") +</span></span>
<span id="cb29-293"><a href="#cb29-293" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = scales::unit_format(unit = "K", scale = 1e-3, sep = ""),</span></span>
<span id="cb29-294"><a href="#cb29-294" aria-hidden="true" tabindex="-1"></a><span class="in">                     breaks = seq(0,950000, by = 200000)) + # what is this breaks doing?</span></span>
<span id="cb29-295"><a href="#cb29-295" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "Month reported", y = "Beneficiaries (cumulative)", </span></span>
<span id="cb29-296"><a href="#cb29-296" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Beneficiaries reached in 2020")</span></span>
<span id="cb29-297"><a href="#cb29-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-298"><a href="#cb29-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-299"><a href="#cb29-299" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-300"><a href="#cb29-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-301"><a href="#cb29-301" aria-hidden="true" tabindex="-1"></a>At this point, we would probably investigate the spike in beneficiaries at the end of the year. It is entirely possible that it is an artefact of reporting -- in that several partners could have waited until their programmes ended to report their beneficiaries, as opposed to doing it over the course of the year. But since this example is just for illustration, we can just report:</span>
<span id="cb29-302"><a href="#cb29-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-303"><a href="#cb29-303" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **`r round((cum_u_ben[11,3] - cum_u_ben[9,3]) / cum_u_ben[11,3] * 100, digits = 2)`%** of beneficiaries were reached after October.</span></span>
<span id="cb29-304"><a href="#cb29-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-305"><a href="#cb29-305" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-306"><a href="#cb29-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-307"><a href="#cb29-307" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3a. Progress by activity by month</span></span>
<span id="cb29-308"><a href="#cb29-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-309"><a href="#cb29-309" aria-hidden="true" tabindex="-1"></a>Let us try something a little more fancy, let us make an interactive plot. This uses the package <span class="in">`plotly`</span>.</span>
<span id="cb29-310"><a href="#cb29-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-311"><a href="#cb29-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r line-PLOTLY-progress-by-activity, fig.width=9, warning=FALSE, echo=TRUE, fig.height=7}</span></span>
<span id="cb29-312"><a href="#cb29-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-313"><a href="#cb29-313" aria-hidden="true" tabindex="-1"></a><span class="in">act_lines &lt;- act_ben %&gt;% </span></span>
<span id="cb29-314"><a href="#cb29-314" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(month_reported = as.Date(month_reported)) |&gt; </span></span>
<span id="cb29-315"><a href="#cb29-315" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(activity_short, month_reported) |&gt; </span></span>
<span id="cb29-316"><a href="#cb29-316" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(sum_ben = sum(beneficiaries)) |&gt; </span></span>
<span id="cb29-317"><a href="#cb29-317" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(cumulative = round(cumsum(sum_ben))) |&gt; </span></span>
<span id="cb29-318"><a href="#cb29-318" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = month_reported, y = cumulative, colour = activity_short, </span></span>
<span id="cb29-319"><a href="#cb29-319" aria-hidden="true" tabindex="-1"></a><span class="in">             text = paste0(</span></span>
<span id="cb29-320"><a href="#cb29-320" aria-hidden="true" tabindex="-1"></a><span class="in">               "activity: ", activity_short, "\n",</span></span>
<span id="cb29-321"><a href="#cb29-321" aria-hidden="true" tabindex="-1"></a><span class="in">               "month: ", month(month_reported, label = TRUE), "\n",</span></span>
<span id="cb29-322"><a href="#cb29-322" aria-hidden="true" tabindex="-1"></a><span class="in">               "beneficiaries: ", format(round(sum_ben), big.mark = ","), "\n",</span></span>
<span id="cb29-323"><a href="#cb29-323" aria-hidden="true" tabindex="-1"></a><span class="in">               "cumulative: ", format(cumulative, big.mark = ",")), </span></span>
<span id="cb29-324"><a href="#cb29-324" aria-hidden="true" tabindex="-1"></a><span class="in">             group = activity_short)) + </span></span>
<span id="cb29-325"><a href="#cb29-325" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() + </span></span>
<span id="cb29-326"><a href="#cb29-326" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(size = .7) + </span></span>
<span id="cb29-327"><a href="#cb29-327" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_date(date_labels = "%b", date_breaks = "1 month") + </span></span>
<span id="cb29-328"><a href="#cb29-328" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = unit_format(unit = "K", </span></span>
<span id="cb29-329"><a href="#cb29-329" aria-hidden="true" tabindex="-1"></a><span class="in">                                          scale = 1e-3, </span></span>
<span id="cb29-330"><a href="#cb29-330" aria-hidden="true" tabindex="-1"></a><span class="in">                                          sep = ""), </span></span>
<span id="cb29-331"><a href="#cb29-331" aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 500000)) + </span></span>
<span id="cb29-332"><a href="#cb29-332" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Beneficiaries", </span></span>
<span id="cb29-333"><a href="#cb29-333" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Progress by activity") + </span></span>
<span id="cb29-334"><a href="#cb29-334" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_colour_discrete(name = "Activity") + </span></span>
<span id="cb29-335"><a href="#cb29-335" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "bottom", </span></span>
<span id="cb29-336"><a href="#cb29-336" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.text = element_text(size = 6)) + </span></span>
<span id="cb29-337"><a href="#cb29-337" aria-hidden="true" tabindex="-1"></a><span class="in">  guides(fill = guide_legend(nrow = 2, byrow = TRUE)) </span></span>
<span id="cb29-338"><a href="#cb29-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-339"><a href="#cb29-339" aria-hidden="true" tabindex="-1"></a><span class="in">ggplotly(act_lines, tooltip = c("text")) %&gt;% </span></span>
<span id="cb29-340"><a href="#cb29-340" aria-hidden="true" tabindex="-1"></a><span class="in">  layout(showlegend = TRUE, legend = list(font = list(size = 6))) %&gt;% </span></span>
<span id="cb29-341"><a href="#cb29-341" aria-hidden="true" tabindex="-1"></a><span class="in">   config(displayModeBar = FALSE)</span></span>
<span id="cb29-342"><a href="#cb29-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-343"><a href="#cb29-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-344"><a href="#cb29-344" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-345"><a href="#cb29-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-346"><a href="#cb29-346" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Progress in recent months has largely been due to the distribution of education kits and distance learning. </span></span>
<span id="cb29-347"><a href="#cb29-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-348"><a href="#cb29-348" aria-hidden="true" tabindex="-1"></a>Though, as we mentioned earlier, this might just be an artefact of partners' reporting schedules and might not indicate a massive ramp up. It also could have been that implementation delays led to school kits only being distributed at the end of the school year, which is quite unideal.</span>
<span id="cb29-349"><a href="#cb29-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-350"><a href="#cb29-350" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-351"><a href="#cb29-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-352"><a href="#cb29-352" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. Summaries by geography</span></span>
<span id="cb29-353"><a href="#cb29-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-354"><a href="#cb29-354" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4a. Beneficiaries by state</span></span>
<span id="cb29-355"><a href="#cb29-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-356"><a href="#cb29-356" aria-hidden="true" tabindex="-1"></a>The plot below is a simple barplot of unique beneficiaries by state: </span>
<span id="cb29-357"><a href="#cb29-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-358"><a href="#cb29-358" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-359"><a href="#cb29-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-360"><a href="#cb29-360" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PLOT-beneficiairies-by-state, echo = TRUE}</span></span>
<span id="cb29-361"><a href="#cb29-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-362"><a href="#cb29-362" aria-hidden="true" tabindex="-1"></a><span class="in">u_ben |&gt; </span></span>
<span id="cb29-363"><a href="#cb29-363" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) |&gt; </span></span>
<span id="cb29-364"><a href="#cb29-364" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(beneficiaries = sum(beneficiaries)) |&gt; </span></span>
<span id="cb29-365"><a href="#cb29-365" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = str_to_title(state)) |&gt;</span></span>
<span id="cb29-366"><a href="#cb29-366" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = fct_reorder(state, beneficiaries, .desc = TRUE), </span></span>
<span id="cb29-367"><a href="#cb29-367" aria-hidden="true" tabindex="-1"></a><span class="in">             y = beneficiaries)) + </span></span>
<span id="cb29-368"><a href="#cb29-368" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(fill = "cornflowerblue") + </span></span>
<span id="cb29-369"><a href="#cb29-369" aria-hidden="true" tabindex="-1"></a><span class="in">  ylim(0, 850000) + </span></span>
<span id="cb29-370"><a href="#cb29-370" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = scales::comma(beneficiaries, accuracy = 1)), </span></span>
<span id="cb29-371"><a href="#cb29-371" aria-hidden="true" tabindex="-1"></a><span class="in">            vjust = -.25, hjust = .05, size = 3, angle = 30) + </span></span>
<span id="cb29-372"><a href="#cb29-372" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = unit_format(unit = "K", scale = 1e-3, sep = ""), </span></span>
<span id="cb29-373"><a href="#cb29-373" aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 200000)) + </span></span>
<span id="cb29-374"><a href="#cb29-374" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Beneficiaries", </span></span>
<span id="cb29-375"><a href="#cb29-375" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Unique beneficiaries by state") + </span></span>
<span id="cb29-376"><a href="#cb29-376" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text.x = element_text(angle = 45, hjust = 1))</span></span>
<span id="cb29-377"><a href="#cb29-377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-378"><a href="#cb29-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-379"><a href="#cb29-379" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-380"><a href="#cb29-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-381"><a href="#cb29-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-382"><a href="#cb29-382" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4b. Number of schools by state</span></span>
<span id="cb29-383"><a href="#cb29-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-384"><a href="#cb29-384" aria-hidden="true" tabindex="-1"></a><span class="in">```{r REF-for-ubicacion-text, echo=TRUE}</span></span>
<span id="cb29-385"><a href="#cb29-385" aria-hidden="true" tabindex="-1"></a><span class="in"># Reference dataset for inline text </span></span>
<span id="cb29-386"><a href="#cb29-386" aria-hidden="true" tabindex="-1"></a><span class="in">mira_zul &lt;- u_ben %&gt;% filter(state == "miranda" | </span></span>
<span id="cb29-387"><a href="#cb29-387" aria-hidden="true" tabindex="-1"></a><span class="in">                              state == "zulia")</span></span>
<span id="cb29-388"><a href="#cb29-388" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-389"><a href="#cb29-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-390"><a href="#cb29-390" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; A total of **`r format(n_distinct(u_ben$location), big.mark = ",")`** schools have been reached by UNICEF; **`r round((n_distinct(mira_zul$location)) / (n_distinct(u_ben$location)) * 100)`%** are from Miranda and Zulia alone.</span></span>
<span id="cb29-391"><a href="#cb29-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-392"><a href="#cb29-392" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-393"><a href="#cb29-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-394"><a href="#cb29-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PLOT-of-ubicacion-by-state, echo=TRUE}</span></span>
<span id="cb29-395"><a href="#cb29-395" aria-hidden="true" tabindex="-1"></a><span class="in">u_ben %&gt;% </span></span>
<span id="cb29-396"><a href="#cb29-396" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;% </span></span>
<span id="cb29-397"><a href="#cb29-397" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(location) %&gt;% </span></span>
<span id="cb29-398"><a href="#cb29-398" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(location = n()) %&gt;% </span></span>
<span id="cb29-399"><a href="#cb29-399" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = str_to_title(state)) |&gt; </span></span>
<span id="cb29-400"><a href="#cb29-400" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = fct_reorder(state, location, .desc = TRUE), y = location)) +</span></span>
<span id="cb29-401"><a href="#cb29-401" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(fill = "cornflowerblue") +</span></span>
<span id="cb29-402"><a href="#cb29-402" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = round(location)), vjust = -0.25, size = 3) + </span></span>
<span id="cb29-403"><a href="#cb29-403" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Number of schools", </span></span>
<span id="cb29-404"><a href="#cb29-404" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Schools reached by state") +</span></span>
<span id="cb29-405"><a href="#cb29-405" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text.x = element_text(angle = 45, hjust = 1))</span></span>
<span id="cb29-406"><a href="#cb29-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-407"><a href="#cb29-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-408"><a href="#cb29-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-409"><a href="#cb29-409" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-410"><a href="#cb29-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-411"><a href="#cb29-411" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-412"><a href="#cb29-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-413"><a href="#cb29-413" aria-hidden="true" tabindex="-1"></a>The bars can also be coloured according to which field office they pertain to, which would be useful for internal reporting and comparisons.</span>
<span id="cb29-414"><a href="#cb29-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-415"><a href="#cb29-415" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-416"><a href="#cb29-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-417"><a href="#cb29-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-418"><a href="#cb29-418" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4c. Scatterplot of municipalities</span></span>
<span id="cb29-419"><a href="#cb29-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-420"><a href="#cb29-420" aria-hidden="true" tabindex="-1"></a>We will now report on a lower administrative level to get a more accurate picture of response coverage. State-level summaries are of limited use in actual programming since they are such large administrative divisions. </span>
<span id="cb29-421"><a href="#cb29-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-422"><a href="#cb29-422" aria-hidden="true" tabindex="-1"></a>We first create a municipal-level dataset for our visualisations and reporting. This dataset can also be exported out for managers. Or we can also load it into an interactive reference table to be explored. </span>
<span id="cb29-423"><a href="#cb29-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-424"><a href="#cb29-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-425"><a href="#cb29-425" aria-hidden="true" tabindex="-1"></a><span class="in">```{r REF-for-all_mun, echo=TRUE}</span></span>
<span id="cb29-426"><a href="#cb29-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-427"><a href="#cb29-427" aria-hidden="true" tabindex="-1"></a><span class="in"># creating the all_mun df</span></span>
<span id="cb29-428"><a href="#cb29-428" aria-hidden="true" tabindex="-1"></a><span class="in"># all_mun is one obs per pcode2</span></span>
<span id="cb29-429"><a href="#cb29-429" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun &lt;-  cen_ref |&gt;</span></span>
<span id="cb29-430"><a href="#cb29-430" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(population_urban =</span></span>
<span id="cb29-431"><a href="#cb29-431" aria-hidden="true" tabindex="-1"></a><span class="in">           x_2019_poblacion_parroquial_total *</span></span>
<span id="cb29-432"><a href="#cb29-432" aria-hidden="true" tabindex="-1"></a><span class="in">           poblacion_urbana_percent / 100) |&gt;</span></span>
<span id="cb29-433"><a href="#cb29-433" aria-hidden="true" tabindex="-1"></a><span class="in">  select(pcode2,</span></span>
<span id="cb29-434"><a href="#cb29-434" aria-hidden="true" tabindex="-1"></a><span class="in">         population2019 = x_2019_poblacion_parroquial_total,</span></span>
<span id="cb29-435"><a href="#cb29-435" aria-hidden="true" tabindex="-1"></a><span class="in">         population_poor = ham_2019_xx_poblacion_pobre_por_parroquia,</span></span>
<span id="cb29-436"><a href="#cb29-436" aria-hidden="true" tabindex="-1"></a><span class="in">         population_urban) |&gt;</span></span>
<span id="cb29-437"><a href="#cb29-437" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(pcode2) |&gt;</span></span>
<span id="cb29-438"><a href="#cb29-438" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb29-439"><a href="#cb29-439" aria-hidden="true" tabindex="-1"></a><span class="in">    population2019 = sum(population2019),</span></span>
<span id="cb29-440"><a href="#cb29-440" aria-hidden="true" tabindex="-1"></a><span class="in">    population_poor = sum(population_poor),</span></span>
<span id="cb29-441"><a href="#cb29-441" aria-hidden="true" tabindex="-1"></a><span class="in">    population_urban = sum(population_urban)) |&gt; </span></span>
<span id="cb29-442"><a href="#cb29-442" aria-hidden="true" tabindex="-1"></a><span class="in">  right_join(cen_ref |&gt;  # for bringing matricula2017 into all_mun</span></span>
<span id="cb29-443"><a href="#cb29-443" aria-hidden="true" tabindex="-1"></a><span class="in">            pivot_longer(cols = c("matricula_2017_educacion_inicial",</span></span>
<span id="cb29-444"><a href="#cb29-444" aria-hidden="true" tabindex="-1"></a><span class="in">                              "matricula_2017_educacion_primaria", </span></span>
<span id="cb29-445"><a href="#cb29-445" aria-hidden="true" tabindex="-1"></a><span class="in">                              "matricula_2017_educacion_media"), </span></span>
<span id="cb29-446"><a href="#cb29-446" aria-hidden="true" tabindex="-1"></a><span class="in">                     names_to = "age_ben", values_to = "matricula2017", </span></span>
<span id="cb29-447"><a href="#cb29-447" aria-hidden="true" tabindex="-1"></a><span class="in">                     values_drop_na = TRUE) %&gt;% </span></span>
<span id="cb29-448"><a href="#cb29-448" aria-hidden="true" tabindex="-1"></a><span class="in">            select(pcode2, age_ben, matricula2017) %&gt;% </span></span>
<span id="cb29-449"><a href="#cb29-449" aria-hidden="true" tabindex="-1"></a><span class="in">            group_by(pcode2) %&gt;% </span></span>
<span id="cb29-450"><a href="#cb29-450" aria-hidden="true" tabindex="-1"></a><span class="in">            summarise(matricula2017 = sum(matricula2017)), </span></span>
<span id="cb29-451"><a href="#cb29-451" aria-hidden="true" tabindex="-1"></a><span class="in">            by = "pcode2") |&gt; </span></span>
<span id="cb29-452"><a href="#cb29-452" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(u_ben |&gt; </span></span>
<span id="cb29-453"><a href="#cb29-453" aria-hidden="true" tabindex="-1"></a><span class="in">              # Identifying which beneficiaries are school-aged children</span></span>
<span id="cb29-454"><a href="#cb29-454" aria-hidden="true" tabindex="-1"></a><span class="in">              mutate(is_matric = case_when( # for beneficiaries aged 3-17</span></span>
<span id="cb29-455"><a href="#cb29-455" aria-hidden="true" tabindex="-1"></a><span class="in">                str_detect(disaggregation,"3_6$") ~ "matric",</span></span>
<span id="cb29-456"><a href="#cb29-456" aria-hidden="true" tabindex="-1"></a><span class="in">                str_detect(disaggregation,"7_12$") ~ "matric",</span></span>
<span id="cb29-457"><a href="#cb29-457" aria-hidden="true" tabindex="-1"></a><span class="in">                str_detect(disaggregation,"12_17$") ~ "matric",</span></span>
<span id="cb29-458"><a href="#cb29-458" aria-hidden="true" tabindex="-1"></a><span class="in">                TRUE ~ "non_matric")) |&gt;</span></span>
<span id="cb29-459"><a href="#cb29-459" aria-hidden="true" tabindex="-1"></a><span class="in">              mutate(beneficiaries_3_17 = ifelse(is_matric == "matric", beneficiaries, 0)) |&gt;</span></span>
<span id="cb29-460"><a href="#cb29-460" aria-hidden="true" tabindex="-1"></a><span class="in">              group_by(state, municipality, pcode2) |&gt;</span></span>
<span id="cb29-461"><a href="#cb29-461" aria-hidden="true" tabindex="-1"></a><span class="in">              summarise(beneficiaries = round(sum(beneficiaries)),</span></span>
<span id="cb29-462"><a href="#cb29-462" aria-hidden="true" tabindex="-1"></a><span class="in">                        beneficiaries_3_17 = round(sum(beneficiaries_3_17)),</span></span>
<span id="cb29-463"><a href="#cb29-463" aria-hidden="true" tabindex="-1"></a><span class="in">                        .groups = "drop"), </span></span>
<span id="cb29-464"><a href="#cb29-464" aria-hidden="true" tabindex="-1"></a><span class="in">            by = "pcode2") |&gt; </span></span>
<span id="cb29-465"><a href="#cb29-465" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(act_ben %&gt;% # bringing activity counts into u_ben</span></span>
<span id="cb29-466"><a href="#cb29-466" aria-hidden="true" tabindex="-1"></a><span class="in">            group_by(pcode2) |&gt; </span></span>
<span id="cb29-467"><a href="#cb29-467" aria-hidden="true" tabindex="-1"></a><span class="in">            summarise(activity_types = n_distinct(activity_short)), </span></span>
<span id="cb29-468"><a href="#cb29-468" aria-hidden="true" tabindex="-1"></a><span class="in">            by = "pcode2") |&gt;</span></span>
<span id="cb29-469"><a href="#cb29-469" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(coverage_percent = beneficiaries_3_17 / matricula2017, </span></span>
<span id="cb29-470"><a href="#cb29-470" aria-hidden="true" tabindex="-1"></a><span class="in">         percent_urban = population_urban / population2019, </span></span>
<span id="cb29-471"><a href="#cb29-471" aria-hidden="true" tabindex="-1"></a><span class="in">         percent_poor = population_poor / population2019) %&gt;% </span></span>
<span id="cb29-472"><a href="#cb29-472" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = fct_reorder(state, beneficiaries, .desc = TRUE)) %&gt;% </span></span>
<span id="cb29-473"><a href="#cb29-473" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("state", "municipality"), ~ str_to_title(.)) |&gt; </span></span>
<span id="cb29-474"><a href="#cb29-474" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(beneficiaries))</span></span>
<span id="cb29-475"><a href="#cb29-475" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-476"><a href="#cb29-476" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-477"><a href="#cb29-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-478"><a href="#cb29-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-479"><a href="#cb29-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-480"><a href="#cb29-480" aria-hidden="true" tabindex="-1"></a>However, due to the number of municipalities, using a table or a barplot for visualisation would be impractical. So we will use a scatterplot, which we preface with some explanations: </span>
<span id="cb29-481"><a href="#cb29-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-482"><a href="#cb29-482" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *logarithmic scale; larger points indicate more beneficiaries reached, darker blues indicate more activity types*</span></span>
<span id="cb29-483"><a href="#cb29-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-484"><a href="#cb29-484" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *mouse over municipalities to see beneficiaries and distinct activities*</span></span>
<span id="cb29-485"><a href="#cb29-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-486"><a href="#cb29-486" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; A total of **`r n_distinct(u_ben$pcode2)`** municipalities were reached by the UNICEF Education programme.</span></span>
<span id="cb29-487"><a href="#cb29-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-488"><a href="#cb29-488" aria-hidden="true" tabindex="-1"></a><span class="in">```{r scatter-PLOTLY-of-municipalities-by-state, fig.width=9, echo=TRUE, fig.height=7}</span></span>
<span id="cb29-489"><a href="#cb29-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-490"><a href="#cb29-490" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun_points &lt;- all_mun %&gt;% </span></span>
<span id="cb29-491"><a href="#cb29-491" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(text = municipality, x = state, y = beneficiaries, </span></span>
<span id="cb29-492"><a href="#cb29-492" aria-hidden="true" tabindex="-1"></a><span class="in">             colour = activity_types)) +</span></span>
<span id="cb29-493"><a href="#cb29-493" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(aes(size = beneficiaries), alpha = 0.9) +</span></span>
<span id="cb29-494"><a href="#cb29-494" aria-hidden="true" tabindex="-1"></a><span class="in">  #find a better colour scheme?</span></span>
<span id="cb29-495"><a href="#cb29-495" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_colour_gradient(low = "azure4", high = "darkblue", </span></span>
<span id="cb29-496"><a href="#cb29-496" aria-hidden="true" tabindex="-1"></a><span class="in">                        breaks = c(2, 4, 6, 8, 10)) + </span></span>
<span id="cb29-497"><a href="#cb29-497" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(trans = "log10", </span></span>
<span id="cb29-498"><a href="#cb29-498" aria-hidden="true" tabindex="-1"></a><span class="in">                     labels = comma) +</span></span>
<span id="cb29-499"><a href="#cb29-499" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Beneficiaries", </span></span>
<span id="cb29-500"><a href="#cb29-500" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Beneficiaries reached by municipality", </span></span>
<span id="cb29-501"><a href="#cb29-501" aria-hidden="true" tabindex="-1"></a><span class="in">       colour = "Activity\ntypes") + </span></span>
<span id="cb29-502"><a href="#cb29-502" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text.x = element_text(angle = 45, hjust = 1), </span></span>
<span id="cb29-503"><a href="#cb29-503" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.text = element_text(size = 8))</span></span>
<span id="cb29-504"><a href="#cb29-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-505"><a href="#cb29-505" aria-hidden="true" tabindex="-1"></a><span class="in">ggplotly(all_mun_points, tooltip = c("text", "y", "colour")) %&gt;% </span></span>
<span id="cb29-506"><a href="#cb29-506" aria-hidden="true" tabindex="-1"></a><span class="in">  config(displayModeBar = FALSE)</span></span>
<span id="cb29-507"><a href="#cb29-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-508"><a href="#cb29-508" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-509"><a href="#cb29-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-510"><a href="#cb29-510" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-511"><a href="#cb29-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-512"><a href="#cb29-512" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; From the plot above, we observe that the Education response is largely centred around major urban centres. </span></span>
<span id="cb29-513"><a href="#cb29-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-514"><a href="#cb29-514" aria-hidden="true" tabindex="-1"></a>Out of curiosity, let us perform a few additional checks: </span>
<span id="cb29-515"><a href="#cb29-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-516"><a href="#cb29-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-517"><a href="#cb29-517" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lm-check, echo=TRUE}</span></span>
<span id="cb29-518"><a href="#cb29-518" aria-hidden="true" tabindex="-1"></a><span class="in"># Tidyverse pipe needed here</span></span>
<span id="cb29-519"><a href="#cb29-519" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-520"><a href="#cb29-520" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(beneficiaries ~ population2019, data = .) %&gt;% </span></span>
<span id="cb29-521"><a href="#cb29-521" aria-hidden="true" tabindex="-1"></a><span class="in">  summary()</span></span>
<span id="cb29-522"><a href="#cb29-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-523"><a href="#cb29-523" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-524"><a href="#cb29-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-525"><a href="#cb29-525" aria-hidden="true" tabindex="-1"></a>Population size is a very large predictor of beneficiary allocations. But neither the percentage of the population below the poverty line is not a a good predictor of coverage (the percentage of a municipality's population has been reached). But the percentage of the population who live in urban areas is very slightly correlated with coverage: </span>
<span id="cb29-526"><a href="#cb29-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-527"><a href="#cb29-527" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=TRUE}</span></span>
<span id="cb29-528"><a href="#cb29-528" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-529"><a href="#cb29-529" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(coverage_percent ~ percent_poor, data = .) %&gt;% </span></span>
<span id="cb29-530"><a href="#cb29-530" aria-hidden="true" tabindex="-1"></a><span class="in">  summary()</span></span>
<span id="cb29-531"><a href="#cb29-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-532"><a href="#cb29-532" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-533"><a href="#cb29-533" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(coverage_percent ~ percent_urban, data = .) %&gt;% </span></span>
<span id="cb29-534"><a href="#cb29-534" aria-hidden="true" tabindex="-1"></a><span class="in">  summary()</span></span>
<span id="cb29-535"><a href="#cb29-535" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-536"><a href="#cb29-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-537"><a href="#cb29-537" aria-hidden="true" tabindex="-1"></a>These are just some quick checks. We would typically be more thorough in a <span class="co">[</span><span class="ot">Coverage and Gap Analysis</span><span class="co">](https://seanywng.github.io/coverage_gaps_venezuela/)</span>. But knowing this helps us structure the next few sections. </span>
<span id="cb29-538"><a href="#cb29-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-539"><a href="#cb29-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-540"><a href="#cb29-540" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-541"><a href="#cb29-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-542"><a href="#cb29-542" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4d. Top 10 municipalities by reach and coverage</span></span>
<span id="cb29-543"><a href="#cb29-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-544"><a href="#cb29-544" aria-hidden="true" tabindex="-1"></a><span class="in">```{r municipalities-top-TABLE, echo=TRUE}</span></span>
<span id="cb29-545"><a href="#cb29-545" aria-hidden="true" tabindex="-1"></a><span class="in"># top municipalities table</span></span>
<span id="cb29-546"><a href="#cb29-546" aria-hidden="true" tabindex="-1"></a><span class="in">top_mun &lt;- all_mun |&gt;  select(state, municipality, beneficiaries) |&gt; </span></span>
<span id="cb29-547"><a href="#cb29-547" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(beneficiaries = format(beneficiaries, big.mark = ",")) |&gt; </span></span>
<span id="cb29-548"><a href="#cb29-548" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10)</span></span>
<span id="cb29-549"><a href="#cb29-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-550"><a href="#cb29-550" aria-hidden="true" tabindex="-1"></a><span class="in"># try to make a table of the most oversubscribed municipalities</span></span>
<span id="cb29-551"><a href="#cb29-551" aria-hidden="true" tabindex="-1"></a><span class="in">top_cov &lt;- all_mun %&gt;% </span></span>
<span id="cb29-552"><a href="#cb29-552" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(coverage_percent = round(coverage_percent * 100, digits = 2)) |&gt; </span></span>
<span id="cb29-553"><a href="#cb29-553" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(coverage_percent)) %&gt;% </span></span>
<span id="cb29-554"><a href="#cb29-554" aria-hidden="true" tabindex="-1"></a><span class="in">  select(state, municipality, coverage_percent) %&gt;% slice(1:10)</span></span>
<span id="cb29-555"><a href="#cb29-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-556"><a href="#cb29-556" aria-hidden="true" tabindex="-1"></a><span class="in"># two tables side by side</span></span>
<span id="cb29-557"><a href="#cb29-557" aria-hidden="true" tabindex="-1"></a><span class="in">kable(top_mun, caption = "by beneficiaries") %&gt;%</span></span>
<span id="cb29-558"><a href="#cb29-558" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = "bordered", full_width = FALSE, </span></span>
<span id="cb29-559"><a href="#cb29-559" aria-hidden="true" tabindex="-1"></a><span class="in">                position = "float_left", font_size = 12)</span></span>
<span id="cb29-560"><a href="#cb29-560" aria-hidden="true" tabindex="-1"></a><span class="in">kable(top_cov, caption = "by coverage") %&gt;%</span></span>
<span id="cb29-561"><a href="#cb29-561" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = "bordered", full_width = FALSE, </span></span>
<span id="cb29-562"><a href="#cb29-562" aria-hidden="true" tabindex="-1"></a><span class="in">                position = "left", font_size = 12)</span></span>
<span id="cb29-563"><a href="#cb29-563" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-564"><a href="#cb29-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-565"><a href="#cb29-565" aria-hidden="true" tabindex="-1"></a><span class="in">```{r REF-for-text-below, echo=TRUE}</span></span>
<span id="cb29-566"><a href="#cb29-566" aria-hidden="true" tabindex="-1"></a><span class="in"># sum of top ten</span></span>
<span id="cb29-567"><a href="#cb29-567" aria-hidden="true" tabindex="-1"></a><span class="in">top_mun_sum &lt;- all_mun %&gt;% </span></span>
<span id="cb29-568"><a href="#cb29-568" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10) %&gt;% </span></span>
<span id="cb29-569"><a href="#cb29-569" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(beneficiaries = sum(beneficiaries, na.rm = TRUE), </span></span>
<span id="cb29-570"><a href="#cb29-570" aria-hidden="true" tabindex="-1"></a><span class="in">            population2019 = sum(population2019))</span></span>
<span id="cb29-571"><a href="#cb29-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-572"><a href="#cb29-572" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun_sum &lt;- all_mun %&gt;% </span></span>
<span id="cb29-573"><a href="#cb29-573" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(beneficiaries = sum(beneficiaries, na.rm = TRUE), </span></span>
<span id="cb29-574"><a href="#cb29-574" aria-hidden="true" tabindex="-1"></a><span class="in">            population2019 = sum(population2019))</span></span>
<span id="cb29-575"><a href="#cb29-575" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-576"><a href="#cb29-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-577"><a href="#cb29-577" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Together, the 10 municipalities with the highest reach (above left) form **`r round(top_mun_sum$beneficiaries / all_mun_sum$beneficiaries * 100)`%** of the **`r format(round(sum(u_ben$beneficiaries)), big.mark = ",")`** beneficiaries reached, whilst only forming **`r round(top_mun_sum$population2019 / all_mun_sum$population2019 * 100)`%** of the country's population, indicating a skew towards more populated and more easily accesile areas. </span></span>
<span id="cb29-578"><a href="#cb29-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-579"><a href="#cb29-579" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The average coverage of the school-age population in the municipalities where UNICEF is present is **`r round(mean(all_mun$coverage_percent, na.rm = TRUE))`%**. Coverage refers to the percentage of enrolled children (aged 3-17 years) reached by UNICEF.</span></span>
<span id="cb29-580"><a href="#cb29-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-581"><a href="#cb29-581" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; We have reached 10% or less of the population in **`r sum(all_mun$coverage_percent &lt;= 10, na.rm = TRUE)`** out of the **`r n_distinct(u_ben$pcode2)`** in which we operate. This is in addition to the **`r sum(is.na(all_mun$coverage_percent))`** where no UNICEF Education activities have occurred.</span></span>
<span id="cb29-582"><a href="#cb29-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-583"><a href="#cb29-583" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-584"><a href="#cb29-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-585"><a href="#cb29-585" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Partners</span></span>
<span id="cb29-586"><a href="#cb29-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-587"><a href="#cb29-587" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5a. Summary by partner</span></span>
<span id="cb29-588"><a href="#cb29-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-589"><a href="#cb29-589" aria-hidden="true" tabindex="-1"></a>*mouse over for details*</span>
<span id="cb29-590"><a href="#cb29-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-591"><a href="#cb29-591" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PLOTLY-stacked-bar-partner, fig.width=9, echo=TRUE, fig.height=7}</span></span>
<span id="cb29-592"><a href="#cb29-592" aria-hidden="true" tabindex="-1"></a><span class="in"># for the totals per partner shows in the geom_text below</span></span>
<span id="cb29-593"><a href="#cb29-593" aria-hidden="true" tabindex="-1"></a><span class="in">stack_text &lt;- act_ben %&gt;% </span></span>
<span id="cb29-594"><a href="#cb29-594" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(implementing_partner) %&gt;% </span></span>
<span id="cb29-595"><a href="#cb29-595" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(total = sum(beneficiaries)) %&gt;% </span></span>
<span id="cb29-596"><a href="#cb29-596" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(total))</span></span>
<span id="cb29-597"><a href="#cb29-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-598"><a href="#cb29-598" aria-hidden="true" tabindex="-1"></a><span class="in"># vector for ordering of x-axis (partners)</span></span>
<span id="cb29-599"><a href="#cb29-599" aria-hidden="true" tabindex="-1"></a><span class="in">ord_soc &lt;- c("UNICEF", "SOCIO 1", "SOCIO 2", "SOCIO 4", "SOCIO 5", "SOCIO 7", "SOCIO 8",</span></span>
<span id="cb29-600"><a href="#cb29-600" aria-hidden="true" tabindex="-1"></a><span class="in">             "SOCIO 3", "SOCIO 10", "SOCIO 6")</span></span>
<span id="cb29-601"><a href="#cb29-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-602"><a href="#cb29-602" aria-hidden="true" tabindex="-1"></a><span class="in"># creating the plot</span></span>
<span id="cb29-603"><a href="#cb29-603" aria-hidden="true" tabindex="-1"></a><span class="in">soc_stack &lt;- act_ben %&gt;% </span></span>
<span id="cb29-604"><a href="#cb29-604" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(activity_short, implementing_partner) %&gt;% </span></span>
<span id="cb29-605"><a href="#cb29-605" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(beneficiaries = round(sum(beneficiaries)), </span></span>
<span id="cb29-606"><a href="#cb29-606" aria-hidden="true" tabindex="-1"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb29-607"><a href="#cb29-607" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = implementing_partner, </span></span>
<span id="cb29-608"><a href="#cb29-608" aria-hidden="true" tabindex="-1"></a><span class="in">             y = beneficiaries)) +</span></span>
<span id="cb29-609"><a href="#cb29-609" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(aes(fill = activity_short)) +</span></span>
<span id="cb29-610"><a href="#cb29-610" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = unit_format(unit = "K", scale = 1e-3, sep = ""), </span></span>
<span id="cb29-611"><a href="#cb29-611" aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 400000)) +</span></span>
<span id="cb29-612"><a href="#cb29-612" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Beneficiaries", </span></span>
<span id="cb29-613"><a href="#cb29-613" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "Breakdown by partner and activity") + </span></span>
<span id="cb29-614"><a href="#cb29-614" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb29-615"><a href="#cb29-615" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.key.size = unit(0.1, "cm"),</span></span>
<span id="cb29-616"><a href="#cb29-616" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.position = "bottom",</span></span>
<span id="cb29-617"><a href="#cb29-617" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.text = element_text(size = 6),</span></span>
<span id="cb29-618"><a href="#cb29-618" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.title = element_text(size = 8)) +</span></span>
<span id="cb29-619"><a href="#cb29-619" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_discrete(name = "Activity") +</span></span>
<span id="cb29-620"><a href="#cb29-620" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(data = stack_text, aes(y = total + 6000, label = scales::comma(total)), </span></span>
<span id="cb29-621"><a href="#cb29-621" aria-hidden="true" tabindex="-1"></a><span class="in">            size = 3) +</span></span>
<span id="cb29-622"><a href="#cb29-622" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(limits = ord_soc)</span></span>
<span id="cb29-623"><a href="#cb29-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-624"><a href="#cb29-624" aria-hidden="true" tabindex="-1"></a><span class="in">ggplotly(soc_stack, tooltip = c("x", "fill", "text")) %&gt;% </span></span>
<span id="cb29-625"><a href="#cb29-625" aria-hidden="true" tabindex="-1"></a><span class="in">  layout(legend = list(title = list(text = "activity"))) %&gt;% </span></span>
<span id="cb29-626"><a href="#cb29-626" aria-hidden="true" tabindex="-1"></a><span class="in">  config(displayModeBar = FALSE) %&gt;% </span></span>
<span id="cb29-627"><a href="#cb29-627" aria-hidden="true" tabindex="-1"></a><span class="in">  layout(showlegend = TRUE, legend = list(font = list(size = 6)))</span></span>
<span id="cb29-628"><a href="#cb29-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-629"><a href="#cb29-629" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-630"><a href="#cb29-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-631"><a href="#cb29-631" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-632"><a href="#cb29-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-633"><a href="#cb29-633" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5b. Number of activity types implemented by each partner</span></span>
<span id="cb29-634"><a href="#cb29-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-635"><a href="#cb29-635" aria-hidden="true" tabindex="-1"></a><span class="in">```{r TABLE-partner-activity-count, echo=TRUE}</span></span>
<span id="cb29-636"><a href="#cb29-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-637"><a href="#cb29-637" aria-hidden="true" tabindex="-1"></a><span class="in">act_ben %&gt;% </span></span>
<span id="cb29-638"><a href="#cb29-638" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(implementing_partner = </span></span>
<span id="cb29-639"><a href="#cb29-639" aria-hidden="true" tabindex="-1"></a><span class="in">           str_replace_all(implementing_partner, </span></span>
<span id="cb29-640"><a href="#cb29-640" aria-hidden="true" tabindex="-1"></a><span class="in">                           "UNICEF - Fondo de las Naciones Unidas para la Infancia",</span></span>
<span id="cb29-641"><a href="#cb29-641" aria-hidden="true" tabindex="-1"></a><span class="in">                           "UNICEF")) %&gt;% </span></span>
<span id="cb29-642"><a href="#cb29-642" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(partner = implementing_partner) %&gt;% </span></span>
<span id="cb29-643"><a href="#cb29-643" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(partner) %&gt;% </span></span>
<span id="cb29-644"><a href="#cb29-644" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(act_types = n_distinct(activity_code)) %&gt;% </span></span>
<span id="cb29-645"><a href="#cb29-645" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(act_types)) %&gt;% </span></span>
<span id="cb29-646"><a href="#cb29-646" aria-hidden="true" tabindex="-1"></a><span class="in">  t() %&gt;% </span></span>
<span id="cb29-647"><a href="#cb29-647" aria-hidden="true" tabindex="-1"></a><span class="in">  kable(caption = "Number of activity types per partner") |&gt;</span></span>
<span id="cb29-648"><a href="#cb29-648" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover"), </span></span>
<span id="cb29-649"><a href="#cb29-649" aria-hidden="true" tabindex="-1"></a><span class="in">                font_size = 12, full_width = FALSE)</span></span>
<span id="cb29-650"><a href="#cb29-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-651"><a href="#cb29-651" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-652"><a href="#cb29-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-653"><a href="#cb29-653" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-654"><a href="#cb29-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-655"><a href="#cb29-655" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5c. Partners' progress over time</span></span>
<span id="cb29-656"><a href="#cb29-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-657"><a href="#cb29-657" aria-hidden="true" tabindex="-1"></a>*mouse over for details*</span>
<span id="cb29-658"><a href="#cb29-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-659"><a href="#cb29-659" aria-hidden="true" tabindex="-1"></a><span class="in">```{r line-PLOTLY-partners-progress, fig.width=9, warning=FALSE, echo=TRUE, fig.height=7}</span></span>
<span id="cb29-660"><a href="#cb29-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-661"><a href="#cb29-661" aria-hidden="true" tabindex="-1"></a><span class="in">soc_line &lt;- act_ben %&gt;% </span></span>
<span id="cb29-662"><a href="#cb29-662" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(month_reported = as.Date(month_reported)) |&gt; </span></span>
<span id="cb29-663"><a href="#cb29-663" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(implementing_partner, month_reported) |&gt; </span></span>
<span id="cb29-664"><a href="#cb29-664" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(cumulative = round(sum(beneficiaries))) |&gt; </span></span>
<span id="cb29-665"><a href="#cb29-665" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(cumulative = cumsum(cumulative)) |&gt; </span></span>
<span id="cb29-666"><a href="#cb29-666" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = month_reported, y = cumulative, </span></span>
<span id="cb29-667"><a href="#cb29-667" aria-hidden="true" tabindex="-1"></a><span class="in">             colour = implementing_partner, </span></span>
<span id="cb29-668"><a href="#cb29-668" aria-hidden="true" tabindex="-1"></a><span class="in">             text = paste0(</span></span>
<span id="cb29-669"><a href="#cb29-669" aria-hidden="true" tabindex="-1"></a><span class="in">               "Partner: ", implementing_partner, "\n", </span></span>
<span id="cb29-670"><a href="#cb29-670" aria-hidden="true" tabindex="-1"></a><span class="in">               "Month: ", month(month_reported, label = TRUE), "\n",</span></span>
<span id="cb29-671"><a href="#cb29-671" aria-hidden="true" tabindex="-1"></a><span class="in">               "Beneficiaries: ", cumulative</span></span>
<span id="cb29-672"><a href="#cb29-672" aria-hidden="true" tabindex="-1"></a><span class="in">             ), </span></span>
<span id="cb29-673"><a href="#cb29-673" aria-hidden="true" tabindex="-1"></a><span class="in">             group = implementing_partner)) + </span></span>
<span id="cb29-674"><a href="#cb29-674" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() + </span></span>
<span id="cb29-675"><a href="#cb29-675" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(size = .7) + </span></span>
<span id="cb29-676"><a href="#cb29-676" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_date(date_labels = "%b", date_breaks = "1 month") + </span></span>
<span id="cb29-677"><a href="#cb29-677" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = unit_format(unit = "K", scale = 1e-3, sep = ""), </span></span>
<span id="cb29-678"><a href="#cb29-678" aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 410000)) +</span></span>
<span id="cb29-679"><a href="#cb29-679" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_colour_viridis_d() + </span></span>
<span id="cb29-680"><a href="#cb29-680" aria-hidden="true" tabindex="-1"></a><span class="in">  # scale_colour_brewer(palette = "Set3") +</span></span>
<span id="cb29-681"><a href="#cb29-681" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "", y = "Beneficiaries", </span></span>
<span id="cb29-682"><a href="#cb29-682" aria-hidden="true" tabindex="-1"></a><span class="in">       "Progress by partner over time") + </span></span>
<span id="cb29-683"><a href="#cb29-683" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb29-684"><a href="#cb29-684" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.position = "bottom",</span></span>
<span id="cb29-685"><a href="#cb29-685" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.text = element_text(size = 6),</span></span>
<span id="cb29-686"><a href="#cb29-686" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.title = element_text(size = 8))</span></span>
<span id="cb29-687"><a href="#cb29-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-688"><a href="#cb29-688" aria-hidden="true" tabindex="-1"></a><span class="in">ggplotly(soc_line, tooltip = c("text")) %&gt;% </span></span>
<span id="cb29-689"><a href="#cb29-689" aria-hidden="true" tabindex="-1"></a><span class="in">  layout(legend = list(title = list(text = "Partner"))) %&gt;% </span></span>
<span id="cb29-690"><a href="#cb29-690" aria-hidden="true" tabindex="-1"></a><span class="in">  config(displayModeBar = FALSE)</span></span>
<span id="cb29-691"><a href="#cb29-691" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-692"><a href="#cb29-692" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-693"><a href="#cb29-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-694"><a href="#cb29-694" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-695"><a href="#cb29-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-696"><a href="#cb29-696" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5d. Summary table of partners' achievements</span></span>
<span id="cb29-697"><a href="#cb29-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-698"><a href="#cb29-698" aria-hidden="true" tabindex="-1"></a><span class="in">```{r TABLE-partners-summary, echo=TRUE}</span></span>
<span id="cb29-699"><a href="#cb29-699" aria-hidden="true" tabindex="-1"></a><span class="in">act_ben %&gt;% </span></span>
<span id="cb29-700"><a href="#cb29-700" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(sex_ben = case_when(</span></span>
<span id="cb29-701"><a href="#cb29-701" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "^m") ~ "male", </span></span>
<span id="cb29-702"><a href="#cb29-702" aria-hidden="true" tabindex="-1"></a><span class="in">    str_detect(disaggregation, "^f") ~ "female", </span></span>
<span id="cb29-703"><a href="#cb29-703" aria-hidden="true" tabindex="-1"></a><span class="in">    TRUE ~ "not_specified")) |&gt; </span></span>
<span id="cb29-704"><a href="#cb29-704" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(implementing_partner) |&gt; </span></span>
<span id="cb29-705"><a href="#cb29-705" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(male = sum(beneficiaries[sex_ben == "male"]),</span></span>
<span id="cb29-706"><a href="#cb29-706" aria-hidden="true" tabindex="-1"></a><span class="in">            female = sum(beneficiaries[sex_ben == "female"]), </span></span>
<span id="cb29-707"><a href="#cb29-707" aria-hidden="true" tabindex="-1"></a><span class="in">            sex_ratio = round(male / female, digits = 2), </span></span>
<span id="cb29-708"><a href="#cb29-708" aria-hidden="true" tabindex="-1"></a><span class="in">            beneficiaries = sum(beneficiaries, na.rm = TRUE)) |&gt; </span></span>
<span id="cb29-709"><a href="#cb29-709" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(`%_total` = </span></span>
<span id="cb29-710"><a href="#cb29-710" aria-hidden="true" tabindex="-1"></a><span class="in">           round(beneficiaries / sum(beneficiaries) * 100, digits = 2)) |&gt;</span></span>
<span id="cb29-711"><a href="#cb29-711" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(act_ben |&gt; </span></span>
<span id="cb29-712"><a href="#cb29-712" aria-hidden="true" tabindex="-1"></a><span class="in">              mutate(</span></span>
<span id="cb29-713"><a href="#cb29-713" aria-hidden="true" tabindex="-1"></a><span class="in">                implementing_partner =</span></span>
<span id="cb29-714"><a href="#cb29-714" aria-hidden="true" tabindex="-1"></a><span class="in">                  str_replace_all(</span></span>
<span id="cb29-715"><a href="#cb29-715" aria-hidden="true" tabindex="-1"></a><span class="in">                    implementing_partner,</span></span>
<span id="cb29-716"><a href="#cb29-716" aria-hidden="true" tabindex="-1"></a><span class="in">                    "UNICEF - Fondo de las Naciones Unidas para la Infancia",</span></span>
<span id="cb29-717"><a href="#cb29-717" aria-hidden="true" tabindex="-1"></a><span class="in">                    "UNICEF")) |&gt; </span></span>
<span id="cb29-718"><a href="#cb29-718" aria-hidden="true" tabindex="-1"></a><span class="in">              group_by(implementing_partner) |&gt; </span></span>
<span id="cb29-719"><a href="#cb29-719" aria-hidden="true" tabindex="-1"></a><span class="in">              summarise(municipalities = n_distinct(pcode2)), </span></span>
<span id="cb29-720"><a href="#cb29-720" aria-hidden="true" tabindex="-1"></a><span class="in">            by = "implementing_partner") |&gt; </span></span>
<span id="cb29-721"><a href="#cb29-721" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("male", "female", "beneficiaries"), </span></span>
<span id="cb29-722"><a href="#cb29-722" aria-hidden="true" tabindex="-1"></a><span class="in">            ~ format(round(.), big.mark = ",")) |&gt; </span></span>
<span id="cb29-723"><a href="#cb29-723" aria-hidden="true" tabindex="-1"></a><span class="in">  relocate(beneficiaries, .after = implementing_partner) |&gt; </span></span>
<span id="cb29-724"><a href="#cb29-724" aria-hidden="true" tabindex="-1"></a><span class="in">  relocate(`%_total`, .after = beneficiaries) |&gt; </span></span>
<span id="cb29-725"><a href="#cb29-725" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(beneficiaries)) |&gt; </span></span>
<span id="cb29-726"><a href="#cb29-726" aria-hidden="true" tabindex="-1"></a><span class="in">  kable(caption = "Summary of partners' coverage") |&gt; </span></span>
<span id="cb29-727"><a href="#cb29-727" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover"), </span></span>
<span id="cb29-728"><a href="#cb29-728" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE, font_size = 12)</span></span>
<span id="cb29-729"><a href="#cb29-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-730"><a href="#cb29-730" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-731"><a href="#cb29-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-732"><a href="#cb29-732" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-733"><a href="#cb29-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-734"><a href="#cb29-734" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Maps and reference table</span></span>
<span id="cb29-735"><a href="#cb29-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-736"><a href="#cb29-736" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-737"><a href="#cb29-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-738"><a href="#cb29-738" aria-hidden="true" tabindex="-1"></a><span class="fu">### 6a. Maps at municipal level</span></span>
<span id="cb29-739"><a href="#cb29-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-740"><a href="#cb29-740" aria-hidden="true" tabindex="-1"></a>Here we generate two maps for a side-by-side plot. The first showing the scale of the response (number of beneficiaries reached) and the second, the coverage. </span>
<span id="cb29-741"><a href="#cb29-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-742"><a href="#cb29-742" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;</span>
<span id="cb29-743"><a href="#cb29-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-744"><a href="#cb29-744" aria-hidden="true" tabindex="-1"></a><span class="in">```{r MAPS-mun-reached-and-percent-reached, echo=TRUE, fig.height=7}</span></span>
<span id="cb29-745"><a href="#cb29-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-746"><a href="#cb29-746" aria-hidden="true" tabindex="-1"></a><span class="in"># reading in shapefile</span></span>
<span id="cb29-747"><a href="#cb29-747" aria-hidden="true" tabindex="-1"></a><span class="in"># quiet = TRUE is very important here</span></span>
<span id="cb29-748"><a href="#cb29-748" aria-hidden="true" tabindex="-1"></a><span class="in">pcode2_shape &lt;- st_read("./vnz_adm2_shapefiles/ven_admbnda_adm2_20180502.shp", </span></span>
<span id="cb29-749"><a href="#cb29-749" aria-hidden="true" tabindex="-1"></a><span class="in">                        quiet = TRUE) %&gt;% </span></span>
<span id="cb29-750"><a href="#cb29-750" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(pcode1 = ADM1_PCODE,</span></span>
<span id="cb29-751"><a href="#cb29-751" aria-hidden="true" tabindex="-1"></a><span class="in">         pcode2 = ADM2_PCODE)</span></span>
<span id="cb29-752"><a href="#cb29-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-753"><a href="#cb29-753" aria-hidden="true" tabindex="-1"></a><span class="in"># I think plotly's selector tool is not very good -- so no interactive map</span></span>
<span id="cb29-754"><a href="#cb29-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-755"><a href="#cb29-755" aria-hidden="true" tabindex="-1"></a><span class="in"># plot for beneficiaries reached by pcode2</span></span>
<span id="cb29-756"><a href="#cb29-756" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-757"><a href="#cb29-757" aria-hidden="true" tabindex="-1"></a><span class="in">  right_join(pcode2_shape, by = "pcode2") %&gt;% </span></span>
<span id="cb29-758"><a href="#cb29-758" aria-hidden="true" tabindex="-1"></a><span class="in">  st_as_sf() %&gt;% </span></span>
<span id="cb29-759"><a href="#cb29-759" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(fill = beneficiaries)) +</span></span>
<span id="cb29-760"><a href="#cb29-760" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_sf(size = 0.01) +</span></span>
<span id="cb29-761"><a href="#cb29-761" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_void() +</span></span>
<span id="cb29-762"><a href="#cb29-762" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Number of beneficiaries reached by municipality") +</span></span>
<span id="cb29-763"><a href="#cb29-763" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_gradient(trans = trans_reverser("log"), breaks = c(0, 100, 1000, 10000, 80482),</span></span>
<span id="cb29-764"><a href="#cb29-764" aria-hidden="true" tabindex="-1"></a><span class="in">                      labels = comma, na.value = "gray90") +</span></span>
<span id="cb29-765"><a href="#cb29-765" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.key.size = unit(0.3, "cm"),</span></span>
<span id="cb29-766"><a href="#cb29-766" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.position = c(0.9, 0.1),</span></span>
<span id="cb29-767"><a href="#cb29-767" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.title = element_blank(),</span></span>
<span id="cb29-768"><a href="#cb29-768" aria-hidden="true" tabindex="-1"></a><span class="in">        plot.title = element_text(size = 12)) + </span></span>
<span id="cb29-769"><a href="#cb29-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-770"><a href="#cb29-770" aria-hidden="true" tabindex="-1"></a><span class="in"># map of percent of enrolled chidren covered by pcode2</span></span>
<span id="cb29-771"><a href="#cb29-771" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-772"><a href="#cb29-772" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(coverage_percent = round(coverage_percent * 100)) |&gt; </span></span>
<span id="cb29-773"><a href="#cb29-773" aria-hidden="true" tabindex="-1"></a><span class="in">  right_join(pcode2_shape) %&gt;% </span></span>
<span id="cb29-774"><a href="#cb29-774" aria-hidden="true" tabindex="-1"></a><span class="in">  st_as_sf() %&gt;%</span></span>
<span id="cb29-775"><a href="#cb29-775" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(fill = coverage_percent))+</span></span>
<span id="cb29-776"><a href="#cb29-776" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_sf(size = 0.01) +</span></span>
<span id="cb29-777"><a href="#cb29-777" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_void() +</span></span>
<span id="cb29-778"><a href="#cb29-778" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Percent of enrolled children (3-17) reached by municipality") +</span></span>
<span id="cb29-779"><a href="#cb29-779" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_gradient(labels = comma, trans = "reverse", na.value = "gray90")+</span></span>
<span id="cb29-780"><a href="#cb29-780" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.key.size = unit(0.3, "cm"),</span></span>
<span id="cb29-781"><a href="#cb29-781" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.position = c(0.9, 0.1),</span></span>
<span id="cb29-782"><a href="#cb29-782" aria-hidden="true" tabindex="-1"></a><span class="in">        legend.title = element_blank(), </span></span>
<span id="cb29-783"><a href="#cb29-783" aria-hidden="true" tabindex="-1"></a><span class="in">        plot.title = element_text(size = 12)) + </span></span>
<span id="cb29-784"><a href="#cb29-784" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb29-785"><a href="#cb29-785" aria-hidden="true" tabindex="-1"></a><span class="in">plot_layout(ncol = 2)</span></span>
<span id="cb29-786"><a href="#cb29-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-787"><a href="#cb29-787" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-788"><a href="#cb29-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-789"><a href="#cb29-789" aria-hidden="true" tabindex="-1"></a>&lt;br&gt;&lt;br&gt;</span>
<span id="cb29-790"><a href="#cb29-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-791"><a href="#cb29-791" aria-hidden="true" tabindex="-1"></a><span class="fu">### 6b. Reference table -- municipal level</span></span>
<span id="cb29-792"><a href="#cb29-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-793"><a href="#cb29-793" aria-hidden="true" tabindex="-1"></a>This is an interactive table with key municipal-level indicators. </span>
<span id="cb29-794"><a href="#cb29-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-795"><a href="#cb29-795" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; use </span><span class="in">`Cluster_present`</span><span class="at"> to filter to municipalities where the Education Cluster operates</span></span>
<span id="cb29-796"><a href="#cb29-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-797"><a href="#cb29-797" aria-hidden="true" tabindex="-1"></a><span class="in">```{r DT-datatable, echo=TRUE}</span></span>
<span id="cb29-798"><a href="#cb29-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-799"><a href="#cb29-799" aria-hidden="true" tabindex="-1"></a><span class="in"># it shows 335. I bet it's Vargas again</span></span>
<span id="cb29-800"><a href="#cb29-800" aria-hidden="true" tabindex="-1"></a><span class="in">all_mun %&gt;% </span></span>
<span id="cb29-801"><a href="#cb29-801" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(Cluster_present = ifelse(is.na(beneficiaries), FALSE, TRUE)) |&gt; </span></span>
<span id="cb29-802"><a href="#cb29-802" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(num_activities = activity_types) |&gt; </span></span>
<span id="cb29-803"><a href="#cb29-803" aria-hidden="true" tabindex="-1"></a><span class="in">  select(Cluster_present, state, municipality, </span></span>
<span id="cb29-804"><a href="#cb29-804" aria-hidden="true" tabindex="-1"></a><span class="in">         beneficiaries, beneficiaries_3_17, </span></span>
<span id="cb29-805"><a href="#cb29-805" aria-hidden="true" tabindex="-1"></a><span class="in">         coverage_percent, </span></span>
<span id="cb29-806"><a href="#cb29-806" aria-hidden="true" tabindex="-1"></a><span class="in">         num_activities, population = population2019, </span></span>
<span id="cb29-807"><a href="#cb29-807" aria-hidden="true" tabindex="-1"></a><span class="in">         percent_urban, percent_poor) |&gt; </span></span>
<span id="cb29-808"><a href="#cb29-808" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("percent_urban", "percent_poor", "coverage_percent"), </span></span>
<span id="cb29-809"><a href="#cb29-809" aria-hidden="true" tabindex="-1"></a><span class="in">            ~ round(. * 100, digits = 2)) |&gt; </span></span>
<span id="cb29-810"><a href="#cb29-810" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate_at(c("beneficiaries", "beneficiaries_3_17", </span></span>
<span id="cb29-811"><a href="#cb29-811" aria-hidden="true" tabindex="-1"></a><span class="in">              "population"), </span></span>
<span id="cb29-812"><a href="#cb29-812" aria-hidden="true" tabindex="-1"></a><span class="in">            ~ format(., big.mark = ",")) |&gt; </span></span>
<span id="cb29-813"><a href="#cb29-813" aria-hidden="true" tabindex="-1"></a><span class="in">  datatable(filter = "top", options = list(pageLength = 10, scrollX = TRUE))</span></span>
<span id="cb29-814"><a href="#cb29-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-815"><a href="#cb29-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-816"><a href="#cb29-816" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>